(this["webpackJsonpbridge-ui-substrate"]=this["webpackJsonpbridge-ui-substrate"]||[]).push([[0],{460:function(e){e.exports=JSON.parse('{"--1":"Millau Types","MillauBalance":"u64","MillauBlockHash":"H512","MillauBlockNumber":"u64","MillauHeader":{"parent_Hash":"MillauBlockHash","number":"Compact<MillauBlockNumber>","state_root":"MillauBlockHash","extrinsics_root":"MillauBlockHash","digest":"MillauDigest"},"MillauDigest":{"logs":"Vec<MillauDigestItem>"},"MillauDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"MillauBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--2":"Rialto Types","RialtoBalance":"u128","RialtoBlockHash":"H256","RialtoBlockNumber":"u32","RialtoHeader":{"parent_Hash":"RialtoBlockHash","number":"Compact<RialtoBlockNumber>","state_root":"RialtoBlockHash","extrinsics_root":"RialtoBlockHash","digest":"RialtoDigest"},"RialtoDigest":{"logs":"Vec<RialtoDigestItem>"},"RialtoDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"RialtoBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--3":"Common types","Address":"AccountId","LookupSource":"AccountId","AccountSigner":"MultiSigner","SpecVersion":"u32","RelayerId":"AccountId","SourceAccountId":"AccountId","ImportedHeader":{"header":"BridgedHeader","requires_justification":"bool","is_finalized":"bool","signal_hash":"Option<BridgedBlockHash>"},"AuthoritySet":{"authorities":"AuthorityList","set_id":"SetId"},"Id":"[u8; 4]","ChainId":"Id","LaneId":"Id","MessageNonce":"u64","MessageId":"(Id, u64)","MessageKey":{"lane_id":"LaneId","nonce:":"MessageNonce"},"InboundRelayer":"AccountId","InboundLaneData":{"relayers":"Vec<UnrewardedRelayer>","last_confirmed_nonce":"MessageNonce"},"UnrewardedRelayer":{"relayer":"RelayerId","messages":"DeliveredMessages"},"DeliveredMessages":{"begin":"MessageNonce","end":"MessageNonce","dispatch_results":"BitVec"},"OutboundLaneData":{"latest_generated_nonce":"MessageNonce","latest_received_nonce":"MessageNonce","oldest_unpruned_nonce":"MessageNonce"},"MessageData":{"payload":"MessagePayload","fee":"Fee"},"MessagePayload":"Vec<u8>","BridgedOpaqueCall":"Vec<u8>","OutboundMessageFee":"Fee","OutboundPayload":{"spec_version":"SpecVersion","weight":"Weight","origin":"CallOrigin","dispatch_fee_payment":"DispatchFeePayment","call":"BridgedOpaqueCall"},"CallOrigin":{"_enum":{"SourceRoot":"()","TargetAccount":"(SourceAccountId, MultiSigner, MultiSignature)","SourceAccount":"SourceAccountId"}},"DispatchFeePayment":{"_enum":{"AtSourceChain":"()","AtTargetChain":"()"}},"MultiSigner":{"_enum":{"Ed25519":"H256","Sr25519":"H256","Ecdsa":"[u8;33]"}},"MessagesProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId","nonces_start":"MessageNonce","nonces_end":"MessageNonce"},"StorageProofItem":"Vec<u8>","MessagesDeliveryProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId"},"UnrewardedRelayersState":{"unrewarded_relayer_entries":"MessageNonce","messages_in_oldest_entry":"MessageNonce","total_messages":"MessageNonce"},"AncestryProof":"()","MessageFeeData":{"lane_id":"LaneId","payload":"OutboundPayload"},"Precommit":{"target_hash":"BridgedBlockHash","target_number":"BridgedBlockNumber"},"AuthoritySignature":"[u8;64]","AuthorityId":"[u8;32]","SignedPrecommit":{"precommit":"Precommit","signature":"AuthoritySignature","id":"AuthorityId"},"Commit":{"target_hash":"BridgedBlockHash","target_number":"BridgedBlockNumber","precommits":"Vec<SignedPrecommit>"},"GrandpaJustification":{"round":"u64","commit":"Commit","votes_ancestries":"Vec<BridgedHeader>"},"Fee":"RialtoBalance","Balance":"RialtoBalance","BlockHash":"RialtoBlockHash","BlockNumber":"RialtoBlockNumber","BridgedBlockHash":"MillauBlockHash","BridgedBlockNumber":"MillauBlockNumber","BridgedHeader":"MillauHeader","Parameter":{"_enum":{"RialtoToMillauConversionRate":"u128"}}}')},461:function(e){e.exports=JSON.parse('{"--1":"Millau Types","MillauBalance":"u64","MillauBlockHash":"H512","MillauBlockNumber":"u64","MillauHeader":{"parent_Hash":"MillauBlockHash","number":"Compact<MillauBlockNumber>","state_root":"MillauBlockHash","extrinsics_root":"MillauBlockHash","digest":"MillauDigest"},"MillauDigest":{"logs":"Vec<MillauDigestItem>"},"MillauDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"MillauBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--2":"Rialto Types","RialtoBalance":"u128","RialtoBlockHash":"H256","RialtoBlockNumber":"u32","RialtoHeader":{"parent_Hash":"RialtoBlockHash","number":"Compact<RialtoBlockNumber>","state_root":"RialtoBlockHash","extrinsics_root":"RialtoBlockHash","digest":"RialtoDigest"},"RialtoDigest":{"logs":"Vec<RialtoDigestItem>"},"RialtoDigestItem":{"_enum":{"Other":"Vec<u8>","AuthoritiesChange":"Vec<AuthorityId>","ChangesTrieRoot":"RialtoBlockHash","SealV0":"SealV0","Consensus":"Consensus","Seal":"Seal","PreRuntime":"PreRuntime"}},"--3":"Common types","Address":"AccountId","LookupSource":"AccountId","AccountSigner":"MultiSigner","SpecVersion":"u32","RelayerId":"AccountId","SourceAccountId":"AccountId","ImportedHeader":{"header":"BridgedHeader","requires_justification":"bool","is_finalized":"bool","signal_hash":"Option<BridgedBlockHash>"},"AuthoritySet":{"authorities":"AuthorityList","set_id":"SetId"},"Id":"[u8; 4]","ChainId":"Id","LaneId":"Id","MessageNonce":"u64","MessageId":"(Id, u64)","MessageKey":{"lane_id":"LaneId","nonce:":"MessageNonce"},"InboundRelayer":"AccountId","InboundLaneData":{"relayers":"Vec<UnrewardedRelayer>","last_confirmed_nonce":"MessageNonce"},"UnrewardedRelayer":{"relayer":"RelayerId","messages":"DeliveredMessages"},"DeliveredMessages":{"begin":"MessageNonce","end":"MessageNonce","dispatch_results":"BitVec"},"OutboundLaneData":{"latest_generated_nonce":"MessageNonce","latest_received_nonce":"MessageNonce","oldest_unpruned_nonce":"MessageNonce"},"MessageData":{"payload":"MessagePayload","fee":"Fee"},"MessagePayload":"Vec<u8>","BridgedOpaqueCall":"Vec<u8>","OutboundMessageFee":"Fee","OutboundPayload":{"spec_version":"SpecVersion","weight":"Weight","origin":"CallOrigin","dispatch_fee_payment":"DispatchFeePayment","call":"BridgedOpaqueCall"},"CallOrigin":{"_enum":{"SourceRoot":"()","TargetAccount":"(SourceAccountId, MultiSigner, MultiSignature)","SourceAccount":"SourceAccountId"}},"DispatchFeePayment":{"_enum":{"AtSourceChain":"()","AtTargetChain":"()"}},"MultiSigner":{"_enum":{"Ed25519":"H256","Sr25519":"H256","Ecdsa":"[u8;33]"}},"MessagesProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId","nonces_start":"MessageNonce","nonces_end":"MessageNonce"},"StorageProofItem":"Vec<u8>","MessagesDeliveryProofOf":{"bridged_header_hash":"BridgedBlockHash","storage_proof":"Vec<StorageProofItem>","lane":"LaneId"},"UnrewardedRelayersState":{"unrewarded_relayer_entries":"MessageNonce","messages_in_oldest_entry":"MessageNonce","total_messages":"MessageNonce"},"AncestryProof":"()","MessageFeeData":{"lane_id":"LaneId","payload":"OutboundPayload"},"Precommit":{"target_hash":"BridgedBlockHash","target_number":"BridgedBlockNumber"},"AuthoritySignature":"[u8;64]","AuthorityId":"[u8;32]","SignedPrecommit":{"precommit":"Precommit","signature":"AuthoritySignature","id":"AuthorityId"},"Commit":{"target_hash":"BridgedBlockHash","target_number":"BridgedBlockNumber","precommits":"Vec<SignedPrecommit>"},"GrandpaJustification":{"round":"u64","commit":"Commit","votes_ancestries":"Vec<BridgedHeader>"},"Fee":"MillauBalance","Balance":"MillauBalance","Hash":"MillauBlockHash","BlockHash":"MillauBlockHash","BlockNumber":"MillauBlockNumber","BridgedBlockHash":"RialtoBlockHash","BridgedBlockNumber":"RialtoBlockNumber","BridgedHeader":"RialtoHeader","Parameter":{"_enum":{"MillauToRialtoConversionRate":"u128"}}}')},543:function(e,t,a){},557:function(e,t){},558:function(e,t){},594:function(e,t){},596:function(e,t){},628:function(e,t){},630:function(e,t){},692:function(e,t){},694:function(e,t){},695:function(e,t){},701:function(e,t){},703:function(e,t){},722:function(e,t){},739:function(e,t){},752:function(e,t){},756:function(e,t){},758:function(e,t){},780:function(e,t){},807:function(e,t){},809:function(e,t){},810:function(e,t){},817:function(e,t){},840:function(e,t,a){"use strict";a.r(t);var n=a(3),r=(a(543),a(0)),c=a.n(r),i=a(42),s=a.n(i),o=a(2),l=a(918),u=a(906),d=a(314),p=a(502),b=a(57),g=a(925),h=a(458),f=["REACT_APP_CHAIN_1_SUBSTRATE_PROVIDER","REACT_APP_CHAIN_2_SUBSTRATE_PROVIDER","REACT_APP_LANE_ID","REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS","REACT_APP_IS_DEVELOPMENT"],O="INCORRECT_FORMAT",j="GENERIC",m=a(231),x=a(895),v=a(459);var y=a(460),E=a(461),A=a(145),C=a(101),R=a(509);var S,T={blake2Keccak256Hasher:function(e){return Object(A.a)(Object(C.a)(e),Object(R.a)(e))}},_=function(e,t){var a=Object({NODE_ENV:"production",PUBLIC_URL:"https://paritytech.github.io/parity-bridges-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_1_CUSTOM_TYPES_URL:"https://raw.githubusercontent.com/paritytech/parity-bridges-common/master/deployments/types-rialto.json",REACT_APP_CHAIN_1_SUBSTRATE_PROVIDER:"wss://wss.rialto.brucke.link",REACT_APP_CHAIN_2_CUSTOM_HASHER:"blake2Keccak256Hasher",REACT_APP_CHAIN_2_CUSTOM_TYPES_URL:"https://raw.githubusercontent.com/paritytech/parity-bridges-common/master/deployments/types-millau.json",REACT_APP_CHAIN_2_SUBSTRATE_PROVIDER:"wss://wss.millau.brucke.link",REACT_APP_LANE_ID:"0x00000000",REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS:"true",REACT_APP_IS_DEVELOPMENT:"false"})["REACT_APP_CHAIN_".concat(e,"_CUSTOM_HASHER")],n=function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"https://paritytech.github.io/parity-bridges-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_1_CUSTOM_TYPES_URL:"https://raw.githubusercontent.com/paritytech/parity-bridges-common/master/deployments/types-rialto.json",REACT_APP_CHAIN_1_SUBSTRATE_PROVIDER:"wss://wss.rialto.brucke.link",REACT_APP_CHAIN_2_CUSTOM_HASHER:"blake2Keccak256Hasher",REACT_APP_CHAIN_2_CUSTOM_TYPES_URL:"https://raw.githubusercontent.com/paritytech/parity-bridges-common/master/deployments/types-millau.json",REACT_APP_CHAIN_2_SUBSTRATE_PROVIDER:"wss://wss.millau.brucke.link",REACT_APP_LANE_ID:"0x00000000",REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS:"true",REACT_APP_IS_DEVELOPMENT:"false"})[e];if(!t)throw new Error("Env Variable ".concat(e," was not defined"));return t}("REACT_APP_CHAIN_".concat(e,"_SUBSTRATE_PROVIDER")),r=a&&T&&T[a]||null,c=function(e,t){var a=Object(m.a)(JSON.stringify(e)),n=Object(v.a)(a,{level:9}),r=Object(x.a)(n);return"https://polkadot.js.org/apps/?rpc=".concat(encodeURIComponent(t),"&types=").concat(encodeURIComponent(r))}(t,n);return{hasher:r,provider:new g.a(n),polkadotjsUrl:c,types:t}},N=a(15);!function(e){e.SWAP_CHAINS="SWAP_CHAINS"}(S||(S={}));var k,I=function(e){return{payload:{chain:e},type:S.SWAP_CHAINS}};function D(e,t){switch(t.type){case S.SWAP_CHAINS:if(t.payload.chain!==e[k.SOURCE].chain){var a=Object(N.a)({},e);return a[k.TARGET]=e[k.SOURCE],a[k.SOURCE]=e[k.TARGET],a}return e;default:throw new Error("Unhandled type: ".concat(t.type))}}!function(e){e.SOURCE="sourceChainDetails",e.TARGET="targetChainDetails"}(k||(k={}));var P=c.a.createContext({});function M(){return Object(r.useContext)(P)}var w=c.a.createContext({});function B(e){var t=e.connections,a=e.children,c=Object(r.useReducer)(D,t),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(n.jsx)(P.Provider,{value:s,children:Object(n.jsx)(w.Provider,{value:{dispatchChangeSourceTarget:l},children:a})})}var F=a(857),H=a(48),U=a.n(H);function L(){var e=M(),t=e.sourceChainDetails.apiConnection.isApiReady,a=e.targetChainDetails.apiConnection.isApiReady;return{areApiReady:t&&a,sourceReady:t,targetReady:a}}var V=a(236),G=a.n(V);G.a.addColors({debug:"grey",error:"red",info:"green",warn:"blue"});var z=G.a.format.cli({all:!0}),W=G.a.createLogger({transports:[new G.a.transports.Console({format:z})]});function Y(e,t){Object(r.useEffect)((function(){if(t)try{var a=e();return function(){t&&a&&a.then((function(e){return e()})).catch((function(e){W.error("error unsubscribing",e)}))}}catch(n){W.error("error executing subscription",n)}}),[e,t])}var K,q=function(e){var t=function(){var e=Object(r.useRef)(!1),t=Object(r.useCallback)((function(){return e.current}),[]);return Object(r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),a=Object(r.useRef)(0),n=Object(r.useState)(e),c=Object(o.a)(n,2),i=c[0],s=c[1];return[i,Object(r.useCallback)((function(e){t()?s(e):a.current=a.current+1,a.current>1&&W.warn("Unmounted component tried to update their state.")}),[t])]},J=new U.a(0),$={chainTokens:"-",formattedBalance:"0",free:new U.a(J)},Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=q($),c=Object(o.a)(n,2),i=c[0],s=c[1],l=L(),u=l.areApiReady,d=Object(r.useCallback)((function(){return e.query.system.account(t,(function(t){var n=t.data;s({chainTokens:n.registry.chainTokens[0],formattedBalance:Object(F.a)(n.free,{decimals:e.registry.chainDecimals[0],withUnit:e.registry.chainTokens[0],withSi:a}),free:n.free})}))}),[t,e,a,s]);return Y(d,u&&Boolean(t)),i};!function(e){e.SET_ACCOUNT="SET_ACCOUNT",e.SET_ACCOUNTS="SET_ACCOUNTS",e.SET_DISPLAY_SENDER_ACCOUNTS="SET_DISPLAY_SENDER_ACCOUNTS",e.SET_SENDER_BALANCES="SET_SENDER_BALANCES"}(K||(K={}));var Q=function(e,t){return{payload:{account:e,sourceTarget:t},type:K.SET_ACCOUNT}},X=function(e){return{payload:{accounts:e},type:K.SET_ACCOUNTS}},ee=function(e){return{payload:{displaySenderAccounts:e},type:K.SET_DISPLAY_SENDER_ACCOUNTS}},te=function(e,t){return{payload:{senderAccountBalance:e,senderCompanionAccountBalance:t},type:K.SET_SENDER_BALANCES}},ae=a(17),ne=a.n(ae),re=a(28),ce=function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n,r,c,i,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.registry.getChainProperties(),n=a.ss58Format,e.next=4,t.rpc.system.name();case 4:return r=e.sent,c=r.split(" ")[0],e.next=8,t.rpc.system.properties();case 8:return i=e.sent,s=i.get("bridgeIds"),e.abrupt("return",{bridgeIds:s,chainName:c,ss58Format:parseInt(n.toString())});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e,t){var a=null===e||void 0===e?void 0:e.bridgeIds[t];if(!a)throw new Error("Missing bridgeId for ".concat(t," in bridge configuration of ").concat(e.chainName,". Add 'bridgeIds' to the chain spec."));return a},se=a(14),oe=a(844),le=a(196),ue=a(931),de=a(899);function pe(e){var t=e.ss58Format,a=void 0===t?42:t,n=e.bridgeId,r=e.address;if(!r)return r;var c=[].concat(Object(se.a)(Object(oe.a)(Object(m.a)("pallet-bridge/account-derivation/account"))),Object(se.a)(n),Object(se.a)(Object(le.a)(r)));return Object(ue.a)(Object(de.a)(Uint8Array.from(c)),a)}function be(e,t){switch(t.type){case K.SET_ACCOUNT:var a=t.payload,n=a.account,r=a.sourceTarget,c=r.targetChainDetails.configs,i=r.sourceChainDetails.configs.chainName,s=pe({ss58Format:c.ss58Format,address:(null===n||void 0===n?void 0:n.address)||"",bridgeId:ie(c,i)});return Object(N.a)(Object(N.a)({},e),{},{account:n,companionAccount:s});case K.SET_SENDER_BALANCES:return Object(N.a)(Object(N.a)({},e),{},{senderAccountBalance:t.payload.senderAccountBalance,senderCompanionAccountBalance:t.payload.senderCompanionAccountBalance});case K.SET_ACCOUNTS:return Object(N.a)(Object(N.a)({},e),{},{accounts:t.payload.accounts});case K.SET_DISPLAY_SENDER_ACCOUNTS:return Object(N.a)(Object(N.a)({},e),{},{displaySenderAccounts:t.payload.displaySenderAccounts});default:throw new Error("Unknown type: ".concat(t.type))}}var ge,he=a(234),fe=a(357);!function(e){e.TRIGGER_MESSAGE="TRIGGER_MESSAGE",e.RESET_MESSAGE="RESET_MESSAGE"}(ge||(ge={}));var Oe=function(){return{payload:{},type:ge.RESET_MESSAGE}},je=function(e){return{payload:{message:e.message,variant:"error"},type:ge.TRIGGER_MESSAGE}},me=function(e){return{payload:{message:e.message,variant:"info"},type:ge.TRIGGER_MESSAGE}},xe=function(e){return{payload:{message:e.message,variant:"success"},type:ge.TRIGGER_MESSAGE}};function ve(e,t){switch(t.type){case ge.RESET_MESSAGE:return Object(N.a)(Object(N.a)({},e),{},{message:null,variant:null});case ge.TRIGGER_MESSAGE:return Object(N.a)(Object(N.a)({},e),{},{message:t.payload.message,variant:t.payload.variant});default:throw new Error("Unknown type: ".concat(t.type))}}var ye,Ee=c.a.createContext({}),Ae=c.a.createContext({});function Ce(){return Object(r.useContext)(Ae)}function Re(e){var t=e.children,a=void 0===t?null:t,c=Object(r.useReducer)(ve,{message:null,variant:null}),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(n.jsx)(Ee.Provider,{value:s,children:Object(n.jsx)(Ae.Provider,{value:{dispatchMessage:l},children:a})})}!function(e){e.INIT="INIT",e.LOADING="LOADING",e.READY="READY",e.ERROR="ERROR"}(ye||(ye={}));var Se=c.a.createContext({});function Te(){return Object(r.useContext)(Se)}function _e(e){var t=e.children,a=void 0===t?null:t,c=Object(r.useState)(ye.INIT),i=Object(o.a)(c,2),s=i[0],l=i[1],u=Ce().dispatchMessage,d=Object(r.useState)([]),p=Object(o.a)(d,2),b=p[0],g=p[1],h=Object(r.useState)(!1),f=Object(o.a)(h,2),O=f[0],j=f[1],m=Object(r.useState)(!1),x=Object(o.a)(m,2),v=x[0],y=x[1],E=Object(r.useState)(!1),A=Object(o.a)(E,2),C=A[0],R=A[1],S=Object(r.useCallback)((function(){var e=function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(ye.LOADING),e.prev=1,e.next=4,Object(he.b)("Substrate Bridges UI");case 4:if(0!==e.sent.length){e.next=9;break}return e.abrupt("return");case 9:y(!0);case 10:return e.next=12,Object(he.a)();case 12:a=e.sent,(null===(t=a)||void 0===t?void 0:t.length)&&R(!0),a=a.map((function(e){var t=e.address,a=e.meta;return{address:t,meta:Object(N.a)(Object(N.a)({},a),{},{name:"".concat(a.name)})}})),fe.a.loadAll({isDevelopment:true},a),l(ye.READY),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(1),u(je({message:e.t0})),W.error(e.t0),l(ye.ERROR);case 24:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}();s!==ye.LOADING&&s!==ye.READY&&e()}),[u,s]);return Object(r.useEffect)((function(){s===ye.INIT&&S()}),[s,S]),Object(r.useEffect)((function(){if(s===ye.READY){var e=fe.a.getPairs();g(e),j(!0)}}),[s]),Object(n.jsx)(Se.Provider,{value:{accountExists:C,extensionExists:v,keyringPairs:b,keyringPairsReady:O},children:a})}var Ne=a(35);function ke(e){return{bridgedGrandpaChain:"bridge".concat(e,"Grandpa"),bridgedMessages:"bridge".concat(e,"Messages"),estimatedFeeMethodName:"To".concat(e,"OutboundLaneApi_estimate_message_delivery_and_dispatch_fee"),latestReceivedNonceMethodName:"From".concat(e,"InboundLaneApi_latest_received_nonce"),storageKey:"".concat(e,"-bridge-ui-transactions")}}var Ie=function(){var e=M(),t=e.sourceChainDetails,a=t.apiConnection,n=a.api,c=a.isApiReady,i=t.chain,s=t.configs.ss58Format,o=e.targetChainDetails,l=o.apiConnection,u=l.api,d=l.isApiReady,p=o.chain,b=o.configs.ss58Format;return{getValuesByChain:Object(r.useCallback)((function(e){switch(e){case i:return{ss58Format:s,api:n,isApiReady:c,substrateValues:ke(p)};case p:return{ss58Format:b,api:u,isApiReady:d,substrateValues:ke(i)};default:throw new Error("Unknown type: ".concat(e))}}),[n,i,c,s,u,p,d,b]),getSS58PrefixByChain:function(e){switch(e){case j:return 42;case p:return b;case i:return s;default:throw new Error("Unknown type: ".concat(e))}}}},De=function(){var e=M(),t=e.sourceChainDetails,a=e.targetChainDetails,n=Te(),c=n.keyringPairs,i=n.keyringPairsReady,s=Ie().getValuesByChain;return{createType:Object(r.useCallback)((function(e,t,a){return s(e).api.registry.createType(t,a)}),[s]),stateCall:Object(r.useCallback)((function(e,t,a,n){var r,c=s(e).api,i=[t,a];return n&&i.push(n),(r=c.rpc.state).call.apply(r,i)}),[s]),updateSenderAccountsInformation:Object(r.useCallback)(function(){var e=Object(re.a)(ne.a.mark((function e(n){var r,s,o,l,u;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){return{chainTokens:e.registry.chainTokens[0],formattedBalance:Object(F.a)(e.free,{decimals:t.registry.chainDecimals[0],withUnit:t.registry.chainTokens[0],withSi:!0}),free:e.free}},i&&c.length){e.next=3;break}return e.abrupt("return",{});case 3:return o=function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r,i,o,l,u;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiConnection.api,r=t.chain,i=t.configs,o=a.apiConnection.api,l=a.configs,e.next=4,Promise.all(c.map(function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,c,u,d,p,b,g,h,f,O,j,m;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,c=t.meta,u=Object(ue.a)(a,i.ss58Format),d={ss58Format:l.ss58Format,address:u||"",bridgeId:ie(l,r)},e.next=5,n.query.system.account(u);case 5:return p=e.sent,b=p.data,g=s(b,n),h=pe(d),e.next=11,o.query.system.account(h);case 11:return f=e.sent,O=f.data,j=s(O,o),m=c.name.toLocaleUpperCase(),e.abrupt("return",{account:{address:u,balance:g,name:m},companionAccount:{address:h,balance:j,name:m}});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return u=e.sent,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.next=6,o(t,a);case 6:return l=e.sent,e.next=9,o(a,t);case 9:u=e.sent,n(ee((r={},Object(Ne.a)(r,t.chain,l),Object(Ne.a)(r,a.chain,u),r)));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,i,t,a])}},Pe=c.a.createContext({});function Me(){return Object(r.useContext)(Pe)}function we(e){var t=De(),a=e.children,r=void 0===a?null:a;return Object(n.jsx)(Pe.Provider,{value:t,children:r})}var Be=function(){var e,t=M(),a=t.targetChainDetails.apiConnection.api,n=t.sourceChainDetails.apiConnection.api,c=Te(),i=c.keyringPairs,s=c.keyringPairsReady,l=Me().updateSenderAccountsInformation,u=Object(r.useReducer)(be,{account:null,accounts:[],companionAccount:null,senderAccountBalance:null,senderCompanionAccountBalance:null,displaySenderAccounts:{}}),d=Object(o.a)(u,2),p=d[0],b=d[1],g=Z(n,(null===(e=p.account)||void 0===e?void 0:e.address)||"",!0),h=Z(a,p.companionAccount||"",!0);return Object(r.useEffect)((function(){b(te(g,h))}),[g,h,b]),Object(r.useEffect)((function(){s&&i.length&&(b(X(i)),l(b))}),[s,i,b,l]),{accountState:p,dispatchAccount:b}},Fe=c.a.createContext({}),He=c.a.createContext({});function Ue(){return Object(r.useContext)(Fe)}function Le(e){var t=e.children,a=void 0===t?null:t,r=Be(),c=r.accountState,i=r.dispatchAccount;return Object(n.jsx)(Fe.Provider,{value:c,children:Object(n.jsx)(He.Provider,{value:{dispatchAccount:i},children:a})})}var Ve,Ge,ze,We,Ye=a(912),Ke=a(501),qe=function(e){var t=Object(r.useState)(localStorage.getItem(e)||""),a=Object(o.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){localStorage.setItem(e,n)}),[n,e]),[n,c]};!function(e){e.NOT_STARTED="NOT_STARTED",e.CREATED="CREATED",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e.FAILED="FAILED"}(Ve||(Ve={})),function(e){e.RECEIPT="RECEIPT",e.PAYLOAD="PAYLOAD",e.DECODED="DECODED"}(Ge||(Ge={})),function(e){e.CUSTOM="CUSTOM",e.TRANSFER="TRANSFER",e.REMARK="REMARK"}(ze||(ze={})),function(e){e.GIBBERISH="Input is not correct. Use numbers, floats or expression (e.g. 1k, 1.3m)",e.ZERO="You cannot send 0 funds",e.SUCCESS="",e.SYMBOL_ERROR="Provided symbol is not correct",e.GENERAL_ERROR="Check your input. Something went wrong"}(We||(We={}));var Je,$e=a(69),Ze=a(904),Qe=a(921),Xe=a(894),et=a(472),tt=a.n(et),at=Object(Xe.a)((function(e){return{submit:{padding:e.spacing(2),borderRadius:e.spacing(1.75)},contact:{backgroundColor:"transparent","&:hover":{backgroundColor:e.palette.secondary.light}},switchMode:{fontSize:e.typography.body2.fontSize},drawerMenu:{justifyContent:"end","&.MuiButton-textPrimary":{backgroundColor:e.palette.secondary.light}}}})),nt=function(e){var t=e.children,a=e.startIcon,r=void 0===a?Object(n.jsx)(tt.a,{}):a,c=e.variant,i=void 0===c?"contained":c,s=e.disableElevation,o=void 0===s||s,l=e.href,u=void 0===l?"https://github.com/paritytech/parity-bridges-ui/issues":l,d=Object($e.a)(e,["children","startIcon","variant","disableElevation","href"]),p=at();return Object(n.jsx)(Ze.a,Object(N.a)(Object(N.a)({className:p.contact,variant:i,startIcon:r,disableElevation:o,onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}(u)}},d),{},{children:t}))},rt=function(e){var t=e.children,a=e.color,r=void 0===a?"secondary":a,c=e.fullWidth,i=void 0===c||c,s=Object($e.a)(e,["children","color","fullWidth"]),o=at();return Object(n.jsx)(Ze.a,Object(N.a)(Object(N.a)({className:o.drawerMenu,color:r,fullWidth:i},s),{},{children:t}))},ct=function(e){var t=e.children,a=e.color,r=void 0===a?"secondary":a,c=Object($e.a)(e,["children","color"]),i=at();return Object(n.jsx)(Ze.a,Object(N.a)(Object(N.a)({className:i.switchMode,color:r},c),{},{children:t}))},it=function(e){var t=e.children,a=e.color,r=void 0===a?"primary":a,c=e.variant,i=void 0===c?"contained":c,s=e.fullWidth,o=void 0===s||s,l=Object($e.a)(e,["children","color","variant","fullWidth"]),u=at();return Object(n.jsx)(Qe.a,{mt:2,mb:2,children:Object(n.jsx)(Ze.a,Object(N.a)(Object(N.a)({id:"test-button-submit",className:u.submit,color:r,variant:i,fullWidth:o},l),{},{children:t}))})},st=a(850),ot=a(907),lt=a(480),ut=a.n(lt),dt=a(479),pt=a.n(dt);!function(e){e.SET_TRANSFER_AMOUNT="SET_TRANSFER_AMOUNT",e.SET_ESTIMATED_FEE="SET_ESTIMATED_FEE",e.SET_PAYLOAD="SET_PAYLOAD",e.SET_PAYLOAD_ERROR="SET_PAYLOAD_ERROR",e.SET_RECEIVER="SET_RECEIVER",e.SET_RECEIVER_ADDRESS="SET_RECEIVER_ADDRESS",e.SET_RECEIVER_VALIDATION="SET_RECEIVER_VALIDATION",e.SET_SENDER_ACCOUNT="SET_SENDER_ACCOUNT",e.CREATE_TRANSACTION_STATUS="CREATE_TRANSACTION_STATUS",e.UPDATE_CURRENT_TRANSACTION_STATUS="UPDATE_CURRENT_TRANSACTION_STATUS",e.SET_TRANSACTION_COMPLETED="SET_TRANSACTION_COMPLETED",e.SET_TRANSACTION_RUNNING="SET_TRANSACTION_RUNNING",e.RESET="RESET"}(Je||(Je={}));var bt=function(e){return{payload:{senderAccount:e},type:Je.SET_SENDER_ACCOUNT}},gt=function(e){return{payload:{receiverAddress:e},type:Je.SET_RECEIVER_ADDRESS}},ht=function(e){return{payload:{receiverPayload:e},type:Je.SET_RECEIVER}},ft=function(e,t){return{payload:{transferAmount:e,chainDecimals:t},type:Je.SET_TRANSFER_AMOUNT}},Ot=function(e,t,a){return{payload:{estimatedFee:t,estimatedFeeError:e,estimatedFeeLoading:a},type:Je.SET_ESTIMATED_FEE}},jt=function(e){return{payload:{transactionRunning:e},type:Je.SET_TRANSACTION_RUNNING}},mt=function(e){return{payload:{initialTransaction:e},type:Je.CREATE_TRANSACTION_STATUS}},xt=function(e,t){return{payload:{id:t,updatedValues:e},type:Je.UPDATE_CURRENT_TRANSACTION_STATUS}},vt=function(e,t){return{payload:{payload:t,payloadError:e},type:Je.SET_PAYLOAD}},yt=function(){return{payload:{},type:Je.RESET}},Et=a(505),At=a(468),Ct=function(e){var t=e.targetChainDetails,a=e.sourceChainDetails,n=e.receiverAddress,r=a.configs,c=a.chain,i=t.chain,s=t.configs,l=s.ss58Format,u=ie(s,r.chainName);try{var d=Object(Et.a)(n),p=Object(At.a)(d),b=Object(o.a)(p,4),g=b[0],h=b[3],f=function(e){switch(e){case 42:return j;case s.ss58Format:return i;case r.ss58Format:return c;default:return""}}(h)||h;return g&&h===l?{address:n,formatFound:f}:{address:pe({ss58Format:l,address:n,bridgeId:u}),formatFound:f}}catch(m){if(n)throw new Error(O);return{address:"",formatFound:null}}},Rt=function(e){return new U.a(10).pow(new U.a(e))},St=[{value:Rt(24),symbol:"y",isMil:!0},{value:Rt(21),symbol:"z",isMil:!0},{value:Rt(18),symbol:"a",isMil:!0},{value:Rt(15),symbol:"f",isMil:!0},{value:Rt(12),symbol:"p",isMil:!0},{value:Rt(9),symbol:"n",isMil:!0},{value:Rt(6),symbol:"\u03bc",isMil:!0},{value:Rt(3),symbol:"m",isMil:!0},{value:new U.a(1),symbol:""},{value:Rt(3),symbol:"k"},{value:Rt(6),symbol:"M"},{value:Rt(9),symbol:"G"},{value:Rt(12),symbol:"T"},{value:Rt(15),symbol:"P"},{value:Rt(18),symbol:"E"},{value:Rt(21),symbol:"Y"},{value:Rt(24),symbol:"Z"}],Tt=St.map((function(e){return e.symbol})).join(", ").replace(", ,",","),_t=new RegExp("^[+]?[0-9]*[.,]{1}[0-9]*$"),Nt=new RegExp("^[+]?[0-9]+$"),kt=new RegExp("^[+]?[0-9]*[.,]{1}[0-9]*["+Tt+"]{1}$"),It=new RegExp("^[+]?[0-9]*["+Tt+"]{1}$");var Dt=function(e){var t=e.transactionRunning,a=e.receiverAddress,n=e.transferAmount,r=e.senderAccount;return Boolean(!t&&a&&n&&r)},Pt=function(e,t){var a=t.unformattedReceiverAddress,n=t.sourceChainDetails,r=t.targetChainDetails,c=Dt(e);if(!a)return Object(N.a)(Object(N.a)({},e),{},{addressValidationError:null,showBalance:!1,unformattedReceiverAddress:a,receiverAddress:null,genericReceiverAccount:null,formatFound:null,transactionReadyToExecute:c});var i=function(e,t,a){try{if(!e)return{formatFound:null,receiverAddress:null};var n=Ct({targetChainDetails:a,sourceChainDetails:t,receiverAddress:e}),r=n.address;return{formatFound:n.formatFound,receiverAddress:r}}catch(c){if(W.error(c.message),c.message===O)return{formatFound:c.message,receiverAddress:e}}}(a,n,r),s=i.receiverAddress,o=i.formatFound,l=r.chain,u=n.chain;return o===O?Object(N.a)(Object(N.a)({},e),{},{addressValidationError:"Invalid address",showBalance:!1,unformattedReceiverAddress:a,receiverAddress:null,genericReceiverAccount:null,formatFound:o,transactionReadyToExecute:!1}):o===j?Object(N.a)(Object(N.a)({},e),{},{unformattedReceiverAddress:a,receiverAddress:null,genericReceiverAccount:a,addressValidationError:null,showBalance:!1,formatFound:o,transactionReadyToExecute:!1}):o===l?Object(N.a)(Object(N.a)({},e),{},{unformattedReceiverAddress:a,receiverAddress:s,genericReceiverAccount:null,addressValidationError:null,showBalance:!0,formatFound:o,transactionReadyToExecute:c,estimatedFeeLoading:Boolean(e.transferAmount)}):o===u?Object(N.a)(Object(N.a)({},e),{},{unformattedReceiverAddress:a,receiverAddress:a,derivedReceiverAccount:s,genericReceiverAccount:null,addressValidationError:null,showBalance:!0,formatFound:o,transactionReadyToExecute:c,estimatedFeeLoading:Boolean(e.transferAmount)}):Object(N.a)(Object(N.a)({},e),{},{addressValidationError:"Unsupported address SS58 prefix: ".concat(o),showBalance:!1,unformattedReceiverAddress:a,receiverAddress:null,genericReceiverAccount:null,formatFound:o,transactionReadyToExecute:!1})};function Mt(e,t){switch(console.log(t),t.type){case Je.SET_ESTIMATED_FEE:var a=t.payload,n=a.estimatedFeeError,r=a.estimatedFeeLoading,c=null;return n||r||!t.payload.estimatedFee||e.estimatedFeeError||e.transferAmountError||(c=t.payload.estimatedFee),Object(N.a)(Object(N.a)({},e),{},{estimatedFee:c,estimatedFeeError:n,estimatedFeeLoading:r,transactionReadyToExecute:!r&&(Dt(e)&&c)});case Je.SET_TRANSFER_AMOUNT:var i=t.payload,s=function(e,t){if(e=e&&e.replace("+",""),!_t.test(e)&&!Nt.test(e)&&!It.test(e)&&!kt.test(e))return[null,We.GIBBERISH];var a=e.replace(/[0-9.,]/g,""),n=St.find((function(e){return e.symbol===a})),r=e.replace(a,"").replace(",","."),c=new U.a(0);if(!n)return[null,We.SYMBOL_ERROR];var i=new U.a(10).pow(new U.a(t)),s=r.includes("."),l=r.split("."),u=Object(o.a)(l,2),d=u[0],p=u[1],b=(null===p||void 0===p?void 0:p.length)||0,g=new U.a(10).pow(new U.a(b));return c=(c=s?new U.a(new U.a(d).mul(g).add(new U.a(p))):new U.a(new U.a(r))).mul(i),(c=s?n.isMil?c.div(n.value).div(g):c.mul(n.value).div(g):n.isMil?c.div(n.value):c.mul(n.value)).eq(new U.a(0))?[null,We.ZERO]:[c,We.SUCCESS]}(i.transferAmount,i.chainDecimals),l=Object(o.a)(s,2),u=l[0],d=l[1];return Object(N.a)(Object(N.a)({},e),{},{transferAmount:u||null,transferAmountError:d,transactionReadyToExecute:!1,estimatedFeeLoading:Boolean(u)&&Boolean(e.receiverAddress),estimatedFee:null});case Je.SET_PAYLOAD:var p=t.payload,b=p.payloadError,g=p.payload;return Object(N.a)(Object(N.a)({},e),{},{payload:b?null:g,payloadError:b,estimatedFee:null});case Je.RESET:return Object(N.a)(Object(N.a)({},e),{},{derivedReceiverAccount:null,estimatedFee:null,estimatedFeeError:null,genericReceiverAccount:null,receiverAddress:null,transferAmount:null,transferAmountError:null,unformattedReceiverAddress:null,addressValidationError:null,payload:null,payloadError:null,transactionDisplayPayload:{},showBalance:!1,formatFound:null});case Je.SET_RECEIVER_ADDRESS:return Object(N.a)(Object(N.a)({},e),{},{receiverAddress:t.payload.receiverAddress,transactionReadyToExecute:Dt(e)});case Je.CREATE_TRANSACTION_STATUS:return Object(N.a)(Object(N.a)({},e),{},{transactions:[t.payload.initialTransaction].concat(Object(se.a)(e.transactions))});case Je.UPDATE_CURRENT_TRANSACTION_STATUS:return function(e,t){if(e.transactions){var a=Object(N.a)({},e),n=t.updatedValues,r=t.id;return a.transactions=a.transactions.map((function(e){return e.id===r?Object(N.a)(Object(N.a)({},e),n):e})),a}return e}(e,t.payload);case Je.SET_RECEIVER:return Pt(e,t.payload.receiverPayload);case Je.SET_TRANSACTION_RUNNING:return Object(N.a)(Object(N.a)({},e),{},{transactionRunning:t.payload.transactionRunning});case Je.SET_SENDER_ACCOUNT:return Object(N.a)(Object(N.a)({},e),{},{senderAccount:t.payload.senderAccount});default:throw new Error("Unknown type: ".concat(t.type))}}var wt=c.a.createContext({}),Bt=c.a.createContext({});function Ft(){return Object(r.useContext)(wt)}function Ht(){return Object(r.useContext)(Bt)}function Ut(e){var t=e.children,a=void 0===t?null:t,c=Ue().account,i=Object(r.useReducer)(Mt,{senderAccount:null,transferAmount:null,transferAmountError:null,estimatedFee:null,estimatedFeeError:null,estimatedFeeLoading:!1,receiverAddress:null,unformattedReceiverAddress:null,derivedReceiverAccount:null,genericReceiverAccount:null,transactions:[],transactionDisplayPayload:{},transactionRunning:!1,transactionReadyToExecute:!1,addressValidationError:null,showBalance:!1,formatFound:null,payload:null,payloadError:null,payloadHex:null}),s=Object(o.a)(i,2),l=s[0],u=s[1];return Object(r.useEffect)((function(){u(bt(c?c.address:null))}),[c,u]),Object(n.jsx)(wt.Provider,{value:l,children:Object(n.jsx)(Bt.Provider,{value:{dispatchTransaction:u},children:a})})}var Lt,Vt=function(e){return!e||e.length<8?e:"".concat(e.substring(0,6),"...").concat(e.substring(e.length-8))};!function(e){e.SOURCE="sourceSubscriptions",e.TARGET="targetSubscriptions"}(Lt||(Lt={}));var Gt=function(e){var t=e.isApiReady,a=e.api,n=e.chain,c=q(""),i=Object(o.a)(c,2),s=i[0],l=i[1],u=q(""),d=Object(o.a)(u,2),p=d[0],b=d[1],g=!(!t||!n),h=Object(r.useCallback)((function(){return a.derive.chain.bestNumber((function(e){l(e.toString())}))}),[a.derive.chain,l]),f=Object(r.useCallback)((function(){return a.derive.chain.bestNumberFinalized((function(e){b(e.toString())}))}),[a.derive.chain,b]);return Y(h,g),Y(f,g),{bestBlock:s,bestBlockFinalized:p}},zt=function(e){var t=e.isApiReady,a=e.api,n=e.chain,c=q(""),i=Object(o.a)(c,2),s=i[0],l=i[1],u=q(""),d=Object(o.a)(u,2),p=d[0],b=d[1],g=ke(n).bridgedGrandpaChain,h=!(!t||!n),f=Object(r.useCallback)((function(){return a.query[g].bestFinalized((function(e){var t=e.toString();b(t)}))}),[a.query,g,b]),O=Object(r.useCallback)((function(){return a.query[g].importedHeaders(p,(function(e){var t,a=null===e||void 0===e||null===(t=e.toJSON())||void 0===t?void 0:t.number;a&&l(a)}))}),[a.query,p,g,l]);return Y(f,h),Y(O,h&&Boolean(p)),{bestBridgedFinalizedBlock:s,setBestFinalizedBlock:b}},Wt={apiConnection:{api:{},isApiReady:!1},target:"",source:"",polkadotjsUrl:""};var Yt=function(e){var t=e.isApiReady,a=e.api,n=e.chain,c=q({latestReceivedNonce:"0",pendingMessages:"0",totalMessages:"0"}),i=Object(o.a)(c,2),s=i[0],l=i[1],u=q("0"),d=Object(o.a)(u,2),p=d[0],b=d[1],g="0x00000000",h=ke(n).bridgedMessages,f=!!(t&&a.query[h]&&n),O=Object(r.useCallback)((function(){return a.query[h].outboundLanes(g,(function(e){var t=e.get("latest_generated_nonce").toString(),a=e.get("latest_received_nonce").toString(),n=new U.a(t).sub(new U.a(a));l({latestReceivedNonce:a.toString(),pendingMessages:n.isNeg()?"0":n.toString(),totalMessages:t})}))}),[a.query,h,g,l]),j=Object(r.useCallback)((function(){return a.query[h].inboundLanes(g,(function(e){b(e.get("last_confirmed_nonce").toString())}))}),[a.query,h,g,b]);return Y(O,f),Y(j,f),{bridgeReceivedMessages:p,outboundLanes:s}},Kt=function(e){var t=function(e){var t=M(),a=t.sourceChainDetails,n=t.targetChainDetails;if(!a||!n)return Wt;var r=a.chain,c=Object($e.a)(a,["chain"]),i=n.chain,s=Object($e.a)(n,["chain"]);return e===k.TARGET?Object(N.a)({source:i,target:r},s):Object(N.a)({source:r,target:i},c)}(e),a=t.apiConnection,n=a.api,r=a.isApiReady,c=t.target,i=t.source,s=t.polkadotjsUrl,o=Gt({api:n,chain:i,isApiReady:r}),l=zt({api:n,chain:c,isApiReady:r}).bestBridgedFinalizedBlock,u=Yt({api:n,chain:c,isApiReady:r});return Object(N.a)(Object(N.a)(Object(N.a)({},o),{},{bestBridgedFinalizedBlock:l},u),{},{source:i,polkadotjsUrl:s})},qt=c.a.createContext({});function Jt(){return Object(r.useContext)(qt)}function $t(e){var t,a=Kt(k.SOURCE),r=Kt(k.TARGET),c=e.children,i=void 0===c?null:c,s=(t={},Object(Ne.a)(t,Lt.SOURCE,a),Object(Ne.a)(t,Lt.TARGET,r),t);return Object(n.jsx)(qt.Provider,{value:s,children:i})}function Zt(e){var t=e.payload,a=e.account,n=e.createType,r=e.sourceTargetDetails,c=r.sourceChainDetails,i=c.chain,s=c.configs.ss58Format,o=r.targetChainDetails.chain,l=n(i,"OutboundPayload",t).toHex(),u=n(o,"BridgedOpaqueCall",t.call),d=n(o,"Call",u.toHex()),p=Object(ue.a)(a,s),b={},g=t.spec_version,h=t.weight;return b.call=JSON.parse(d),b.origin={SourceAccount:p},b.weight=h,b.spec_version=g,{transactionDisplayPayload:b,payloadHex:l}}function Qt(e){var t=e.useSourceTarget,a=e.sourceChain===t().sourceChainDetails.chain;return{sourceRole:a?Lt.SOURCE:Lt.TARGET,targetRole:a?Lt.TARGET:Lt.SOURCE,sourceChainsMatch:a}}var Xt=function(e){var t=e.transaction,a=q(null),n=Object(o.a)(a,2),c=n[0],i=n[1],s=q(null),l=Object(o.a)(s,2),u=l[0],d=l[1],p=Jt(),b=Ie().getValuesByChain,g="0x00000000",h=L().areApiReady,f=t.sourceChain,O=t.targetChain,j=b(O).api,m=Qt({useSourceTarget:M,sourceChain:f}).targetRole,x=Me(),v=x.createType,y=x.stateCall,E=p[m],A=E.bestBlockFinalized,C=E.bestBlock,R=ke(f).latestReceivedNonceMethodName;return Object(r.useEffect)((function(){if(h&&t&&t&&!function(e){return e.status===Ve.COMPLETED}(t)){var e=function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n,r,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.rpc.chain.getBlockHash(t);case 2:return a=e.sent,e.next=5,y(O,R,g,a.toJSON());case 5:return n=e.sent,r=v(O,"MessageNonce",n),c=r.toString(),e.abrupt("return",parseInt(c));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var t=Object(re.a)(ne.a.mark((function t(){var a,n;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e(A),n=e(C),t.t0=i,t.next=5,n;case 5:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=d,t.next=10,a;case 10:t.t3=t.sent,(0,t.t2)(t.t3);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}),[h,t,g,R,i,d,C,A,y,O,v,j.rpc.chain]),{nonceOfBestTargetBlock:c,nonceOfFinalTargetBlock:u}},ea=function(e){var t=e.transaction,a=e.onComplete,n=Object(r.useState)([]),c=Object(o.a)(n,2),i=c[0],s=c[1],l=Object(r.useState)(),u=Object(o.a)(l,2),d=u[0],p=u[1],b=Object(r.useState)(!1),g=Object(o.a)(b,2),h=g[0],f=g[1],O=Jt(),j=Xt({transaction:t}),m=j.nonceOfBestTargetBlock,x=j.nonceOfFinalTargetBlock,v=L().areApiReady,y=t.sourceChain,E=t.targetChain,A=Qt({useSourceTarget:M,sourceChain:y}),C=A.sourceRole,R=A.targetRole,S=O[C],T=S.bestBlockFinalized,_=S.outboundLanes.latestReceivedNonce,N=O[R],k=N.bestBridgedFinalizedBlock,I=N.bestBlockFinalized,D=N.bestBlock;return Object(r.useEffect)((function(){if(v&&t&&!h){var e,n=function(e,t){if(!e||!t)return!1;var a=new U.a(t),n=new U.a(e);return a.gte(n)},r=function(e){return 0===t.id?Ve.NOT_STARTED:e?Ve.COMPLETED:Ve.IN_PROGRESS},c=n(t.block,T),i=n(t.block,k),o=n(t.messageNonce,m),l=n(t.messageNonce,x),u=n(t.messageNonce,_);o&&!d&&p(D),s([{id:"test-step-include-message-block",chainType:y,label:"Include message in block",labelOnChain:t.block,status:r(!!t.block)},{id:"test-step-finalized-block",chainType:y,label:"Finalize block",status:r(c)},{id:"test-step-relay-block",chainType:E,label:"Relay block",status:r(i)},{id:"test-step-deliver-message-block",chainType:E,label:"Deliver message in target block",labelOnChain:(e=o,r(e)===Ve.COMPLETED&&d),status:r(o)},{id:"test-step-finalized-message",chainType:E,label:"Finalize message",status:r(l)},{id:"test-step-confirm-delivery",chainType:y,label:"Confirm delivery",status:r(u)}]),u&&(a(),f(!0))}}),[v,T,I,D,k,d,h,_,m,x,a,p,y,E,t]),i},ta=a(905),aa=a(849),na=a(475),ra=a.n(na),ca=a(474),ia=a.n(ca),sa=a(476),oa=a.n(sa),la=a(350),ua=a.n(la),da=a(477),pa=a.n(da),ba=Object(Xe.a)((function(e){return{error:{color:e.palette.error.main},success:{color:e.palette.success.main}}})),ga=function(e){switch(e.status){case Ve.COMPLETED:return Object(n.jsx)(ia.a,{id:"test-transaction-status-completed"});case Ve.IN_PROGRESS:return Object(n.jsx)(ra.a,{id:"test-auto-new-icon"});case Ve.FAILED:return Object(n.jsx)(oa.a,{id:"test-error-outline-icon"});case Ve.NOT_STARTED:return Object(n.jsx)(pa.a,{id:"test-fiber-manual-two-icon"});default:return Object(n.jsx)(ua.a,{id:"test-fiber-manual-icon"})}},ha=function(e){var t=e.status,a=e.className,r=ba();return Object(n.jsx)(ua.a,{className:"".concat(t?r.success:r.error," ").concat(a)})},fa=function(e){var t=e.type,a=e.status,r=M(),c=r.sourceChainDetails.chain,i=r.targetChainDetails.chain;return Object(n.jsxs)(Qe.a,{className:"header",component:"p",id:"test-transaction-header",children:[Object(n.jsx)(ga,{status:a})," ",t," ",c," ","->"," ",i]})},Oa=Object(Xe.a)((function(e){return{card:{"& p":Object(N.a)({},e.typography.body2),"& svg":{marginBottom:"-0.2em",fontSize:"1.2em",marginRight:e.spacing()},"& .header":{fontWeight:500},"&.MuiPaper-root":{maxWidth:"100%",padding:e.spacing(2),borderRadius:e.spacing(1.5)}}}})),ja=function(e){var t=e.type,a=e.steps,r=e.status,c=Oa();return Object(n.jsxs)(ta.a,{elevation:24,className:c.card,children:[Object(n.jsx)(fa,{type:t,status:r}),a.map((function(e){var t=e.chainType,a=e.label,r=e.labelOnChain,c=e.status,i=e.id;return Object(n.jsxs)("p",{id:i,children:[Object(n.jsx)(ga,{status:c})," ",t,": ",a,"\xa0",r&&Object(n.jsx)(Qe.a,{pt:.25,pb:.25,pl:.5,pr:.5,component:"span",border:1,borderRadius:6,children:Object(n.jsx)(aa.a,{component:"span",variant:"subtitle2",children:r})})]},i)}))]})},ma=a(478),xa=a.n(ma),va=Object(Xe.a)((function(e){return{card:{"& p":Object(N.a)({},e.typography.body2),"& svg":{marginBottom:"-0.2em",fontSize:"1.2em",marginRight:e.spacing()},"& .header":{fontWeight:500},"&.MuiPaper-root":{maxWidth:"100%",padding:e.spacing(2),borderRadius:e.spacing(1.5)},wordBreak:"break-word"},loader:{width:"100%",display:"flex",justifyContent:"center"}}})),ya=function(e){var t=e.tab,a=e.transactionDisplayProps,r=e.payloadHex,c=e.transactionDisplayPayload,i=e.type,s=e.status,o=va(),l=Ft().estimatedFeeLoading;return t===Ge.RECEIPT?null:Object(n.jsxs)(ta.a,{elevation:"sm"===(null===a||void 0===a?void 0:a.size)?23:24,className:o.card,children:[r&&Object(n.jsx)(fa,{type:i,status:s}),l&&Object(n.jsx)("div",{className:o.loader,children:Object(n.jsx)(u.a,{})}),!l&&t===Ge.PAYLOAD&&Object(n.jsx)(aa.a,{variant:"subtitle2",children:r}),!l&&t===Ge.DECODED&&c&&Object(n.jsx)(aa.a,{variant:"subtitle2",children:Object(n.jsx)(xa.a,{src:c,enableClipboard:!0,name:!1})})]})},Ea=function(e){var t=e.transactionDisplayProps,a=e.children,c=e.payloadHex,i=e.transactionDisplayPayload,s=e.type,l=e.status,u=Object(r.useState)(Ge.RECEIPT),d=Object(o.a)(u,2),p=d[0],b=d[1],g=function(e){return e===p?"primary":"secondary"},h=Object(r.useCallback)((function(e){return function(){return b(e)}}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Qe.a,{mt:2,children:[Object(n.jsx)(ct,{color:g(Ge.PAYLOAD),onClick:h(Ge.PAYLOAD),children:"Payload"}),Object(n.jsx)(ct,{color:g(Ge.RECEIPT),onClick:h(Ge.RECEIPT),children:"Receipt"}),Object(n.jsx)(ct,{color:g(Ge.DECODED),onClick:h(Ge.DECODED),children:"Decoded"})]}),p===Ge.RECEIPT&&a,Object(n.jsx)(ya,{tab:p,type:s,status:l,transactionDisplayProps:t,payloadHex:c,transactionDisplayPayload:i})]})},Aa=function(e){var t=e.transaction,a=e.onComplete,r=ea({transaction:t,onComplete:a}),c=t.payloadHex,i=t.transactionDisplayPayload;return Object(n.jsx)(Ea,{payloadHex:c,transactionDisplayPayload:i,status:t.status,type:t.type,children:Object(n.jsx)(ja,{steps:r,type:t.type,status:t.status})})},Ca={payloadHex:null,transactionDisplayPayload:null},Ra=function(){var e=Ft().payload,t=Object(r.useState)(Ca),a=Object(o.a)(t,2),n=a[0],c=a[1],i=M(),s=De().createType,l=Ue().account;return Object(r.useEffect)((function(){c(e&&l?Zt({payload:e,account:l.address,createType:s,sourceTargetDetails:i}):Ca)}),[l,s,e,i]),n},Sa=function(e){var t=e.type,a=Object(r.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=M(),u=l.sourceChainDetails.chain,d=l.targetChainDetails.chain,p=Ra(),b=p.payloadHex,g=p.transactionDisplayPayload;return Object(r.useEffect)((function(){s([{id:"test-step-include-message-block",chainType:u,label:"Include message in block",labelOnChain:"",status:Ve.NOT_STARTED},{id:"test-step-finalized-block",chainType:u,label:"Finalise block",status:Ve.NOT_STARTED},{id:"test-step-relay-block",chainType:d,label:"Relay block",status:Ve.NOT_STARTED},{id:"test-step-deliver-message-block",chainType:d,label:"Deliver message",labelOnChain:"",status:Ve.NOT_STARTED},{id:"test-step-finalized-message",chainType:d,label:"Finalise message in target block",labelOnChain:"",status:Ve.NOT_STARTED},{id:"test-step-confirm-delivery",chainType:u,label:"Confirm delivery",status:Ve.NOT_STARTED}])}),[u,d]),Object(n.jsx)(Ea,{payloadHex:b,transactionDisplayPayload:g,type:t,status:Ve.NOT_STARTED,children:Object(n.jsx)(ja,{steps:i,type:t,status:Ve.NOT_STARTED})})},Ta=function(e){var t=e.type,a=Object($e.a)(e,["type"]),r=Ft().transactions,c=Ht().dispatchTransaction,i=Ce().dispatchMessage;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Sa,{type:t}),Boolean(r.length)&&r.map((function(e){return Object(n.jsx)(Aa,{transaction:e,onComplete:function(){c(xt({status:Ve.COMPLETED},e.id)),i(xe({message:"Transaction: ".concat(Vt(e.blockHash)," is completed")}))},transactionDisplayProps:Object(N.a)({},a)},e.id)}))]})},_a=Object(Xe.a)((function(e){return{drawer:{position:"absolute",top:0,left:200,width:400,height:"100vh",padding:e.spacing(2),paddingLeft:e.spacing(5),paddingTop:e.spacing(5),overflow:"auto","-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},closeDrawerIcon:{position:"fixed",backgroundColor:e.palette.background.paper,marginLeft:296,marginTop:e.spacing(-4)}}})),Na=function(){var e=_a(),t=mn(),a=t.drawer,c=t.setDrawer,i=Object(r.useCallback)((function(){return c("".concat("open"===a?"":"open"))}),[a,c]),s=Object(r.useCallback)((function(){return c("")}),[c]);return Object(n.jsxs)(Qe.a,{mt:4,children:[Object(n.jsx)(rt,{startIcon:Object(n.jsx)(pt.a,{}),onClick:i,color:"open"===a?"primary":"secondary",children:"History"}),Object(n.jsx)(st.a,{in:"open"===a,timeout:{enter:300,exit:0},children:Object(n.jsxs)("div",{className:e.drawer,children:[Object(n.jsx)(ot.a,{onClick:s,color:"secondary",className:e.closeDrawerIcon,children:Object(n.jsx)(ut.a,{})}),Object(n.jsx)(Ta,{size:"sm"})]})})]})},ka=Object(Xe.a)((function(e){return{selectLabel:Object(N.a)(Object(N.a)({},e.typography.h4),{},{color:e.palette.text.hint,marginBottom:e.spacing()})}})),Ia=function(e){return{marginTop:-1,padding:e.spacing(.5),paddingLeft:e.spacing(1.25),paddingRight:e.spacing(3),border:"1px solid ".concat(e.palette.divider),borderTopLeftRadius:0,borderTopRightRadius:0,borderRadius:e.spacing(1.5)}},Da=function(e){var t=e.children,a=ka();return Object(n.jsx)("div",{className:a.selectLabel,children:t})},Pa=a(908),Ma=a(848),wa=a(61),Ba=a(238),Fa=a.n(Ba),Ha=a(351),Ua=a.n(Ha),La="#2E99E5",Va="#2E99E5",Ga="#FCFCFC",za="#7E8D95",Wa="#202B33",Ya="#7E8D96",Ka="#16DB9A",qa="#11B37C",Ja={type:"light",common:{black:"black",white:"#FFFFFF"},background:{paper:"#FFFFFF",default:"#FFFFFF"},primary:{light:"#2E99E5",main:Va,dark:"#2E99E5",contrastText:"white"},secondary:{light:"#F1F5F7",main:za,dark:"#ABB8BF",contrastText:"black"},error:{light:Ua.a[100],main:"#DC2200",dark:Ua.a[500],contrastText:"black"},success:{light:Ya,main:Ka,dark:qa,contrastText:"black"},text:{primary:Wa,secondary:Va,disabled:za,hint:za},action:{active:La},divider:Fa.a[300]},$a={typography:{allVariants:{color:Ja.text&&Ja.text.primary},fontFamily:'Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, Segoe UI, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Web3-Regular"',h1:{fontWeight:500,fontSize:30,lineHeight:"115%",letterSpacing:"-0.02em"},h2:{fontWeight:600,fontSize:21,lineHeight:"120%"},h3:{fontWeight:600,fontSize:18,lineHeight:"120%"},h4:{fontWeight:500,fontSize:14,lineHeight:"120%",color:Fa.a[800]},body1:{fontWeight:400,fontSize:14,lineHeight:"140%",color:Fa.a[800]},body2:{fontWeight:400,fontSize:12,lineHeight:"140%"},button:{fontWeight:500,fontSize:16,lineHeight:"140%",letterSpacing:.2,textTransform:"none"},subtitle1:{fontFamily:"SFMono-Regular, Consolas , Liberation Mono, Menlo, monospace",fontWeight:400,fontSize:20,lineHeight:"120%"},subtitle2:{fontFamily:"SFMono-Regular, Consolas , Liberation Mono, Menlo, monospace",fontWeight:400,fontSize:11,lineHeight:"135%",color:Fa.a[700],letterSpacing:.1},overline:{fontWeight:500,fontSize:14,letterSpacing:.3,textTransform:"uppercase"}},palette:Ja,shadows:["none","0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)","0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)","0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 32px 24px rgb(0 0 0 / 5%), 0px 16px 20px rgb(0 0 0 / 4%), 0px 12px 12px rgb(0 0 0 / 4%), 0px 6px 6px rgb(0 0 0 / 3%), 0px 3px 2px rgb(0 0 0 / 2%)","0px 100px 80px rgba(0, 0, 0, 0.07), 0px 40px 32px rgba(0, 0, 0, 0.05), 0px 20px 20px rgba(0, 0, 0, 0.04), 0px 12px 12px rgba(0, 0, 0, 0.04), 0px 6px 6px rgba(0, 0, 0, 0.03), 0px 3px 2px rgba(0, 0, 0, 0.02)"]},Za=Object(Xe.a)((function(e){return{ui:{display:"flex",justifyContent:"center",padding:e.spacing(3),paddingLeft:240+e.spacing(3),transition:"padding-left .1s","&.open":Object(Ne.a)({paddingLeft:600+e.spacing(3)},e.breakpoints.down("md"),{paddingLeft:240+e.spacing(3)}),"& .MuiPaper-root, .MuiOutlinedInput-notchedOutline":{borderRadius:e.spacing(1.5)},"& > .MuiPaper-root":{width:480,maxWidth:"100%",padding:e.spacing(2)}},sidebar:{position:"fixed",zIndex:1,display:"flex",justifyContent:"space-between",flexDirection:"column",top:0,width:240,height:"100vh",padding:e.spacing(3),backgroundColor:Ga,borderRight:"1px solid ".concat(Object(wa.c)(e.palette.divider,.5)),transition:"width .1s, padding-right .1s","&.open":{width:600,paddingRight:360+e.spacing(3)}}}})),Qa=function(e){var t=e.children,a=Za(),r=mn().drawer;return Object(n.jsx)(Pa.a,{className:"".concat(a.ui," ").concat(r),children:Object(n.jsx)(Ma.a,{elevation:24,children:t})})},Xa=function(e){var t=e.children,a=Za(),r=mn().drawer;return Object(n.jsx)("div",{className:"".concat(a.sidebar," ").concat(r),children:t})},en=a(512),tn=a(924),an=a(481),nn=a.n(an),rn=Object(Xe.a)((function(e){return{menu:{background:e.palette.secondary.light,padding:e.spacing(),borderRadius:e.spacing()},item:Object(N.a)(Object(N.a)({},e.typography.button),{},{display:"flex",margin:e.spacing(.2),paddingLeft:e.spacing(.75),paddingRight:e.spacing(.75),borderRadius:e.spacing(.5),"&:not(.current):hover":{color:e.palette.primary.contrastText,background:e.palette.primary.main},"&.current":{marginBottom:e.spacing(3),color:e.palette.text.hint,"&:hover":{color:e.palette.secondary.contrastText,background:e.palette.secondary.light}},"&.disabled":{color:e.palette.text.disabled,pointerEvents:"none"}})}})),cn=function(e){var t=e.actions,a=e.changeMenu,i=e.action,s=rn(),l=c.a.useState(null),u=Object(o.a)(l,2),d=u[0],p=u[1],b=c.a.useState(void 0),g=Object(o.a)(b,2),h=g[0],f=g[1],O=c.a.useState(!1),j=Object(o.a)(O,2),m=j[0],x=j[1];Object(r.useEffect)((function(){x(Boolean(d)),f(d?"simple-popover":void 0)}),[d]);var v=t.find((function(e){return e.type===i}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(en.a,{className:"".concat(s.item," current"),onClick:function(e){p(e.currentTarget),x(!m)},children:[(null===v||void 0===v?void 0:v.title)||"-",Object(n.jsx)(nn.a,{})]}),Object(n.jsx)(tn.a,{id:h,open:m,anchorEl:d,onClose:function(){return x(!1)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:24},PaperProps:{className:s.menu},children:t.map((function(e,t){return Object(n.jsx)(en.a,{className:"".concat(s.item," ").concat(!e.isEnabled&&"disabled"),onClick:function(){x(!m),a(e.type)},children:e.title},t)}))})]})},sn=a(911),on=a(303),ln=a.n(on),un=Object(Xe.a)((function(e){return{main:{position:"relative",border:"1px solid ".concat(e.palette.divider),borderRadius:e.spacing(.5),"& .MuiIconButton-root":{backgroundColor:e.palette.background.paper,position:"absolute",top:0,bottom:0,right:e.spacing(-1.5),width:e.spacing(3),height:e.spacing(3),margin:"auto",border:"1px solid ".concat(e.palette.divider)}},statsEntry:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:e.spacing(),fontSize:e.typography.subtitle2.fontSize,"& span":Object(N.a)({},e.typography.subtitle2)},svg:{marginBottom:"0.2em",fontSize:"0.5em",marginRight:e.spacing()}}})),dn=function(){var e=un(),t=Jt(),a=t.sourceSubscriptions,r=t.targetSubscriptions,c=M(),i=c.sourceChainDetails,s=c.targetChainDetails,o=L(),l=o.sourceReady,u=o.targetReady;return Object(n.jsxs)(Qe.a,{marginY:2,className:e.main,children:[Object(n.jsxs)(Qe.a,{p:1,className:e.statsEntry,children:[Object(n.jsxs)(aa.a,{variant:"h4",children:[Object(n.jsx)(ha,{className:e.svg,status:l}),Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",href:i.polkadotjsUrl,children:i.chain})]}),Object(n.jsxs)("span",{children:["# ",a.bestBlock]})]}),Object(n.jsx)(sn.a,{}),Object(n.jsx)(ot.a,{size:"small",children:Object(n.jsx)(ln.a,{fontSize:"small"})}),Object(n.jsxs)(Qe.a,{p:1,className:e.statsEntry,children:[Object(n.jsxs)(aa.a,{variant:"h4",children:[Object(n.jsx)(ha,{className:e.svg,status:u}),Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",href:s.polkadotjsUrl,children:s.chain})]}),Object(n.jsxs)("span",{style:{opacity:.4},children:["# ",r.bestBlock]})]})]})},pn=function(){var e=un(),t=Jt(),a=t.sourceSubscriptions,r=t.targetSubscriptions;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Qe.a,{className:e.statsEntry,children:["Relayed blocks:",Object(n.jsxs)("span",{children:[null===r||void 0===r?void 0:r.bestBridgedFinalizedBlock," / ",null===a||void 0===a?void 0:a.bestBlockFinalized]})]}),Object(n.jsxs)(Qe.a,{className:e.statsEntry,children:["Delivered messages:",Object(n.jsx)("span",{children:null===a||void 0===a?void 0:a.outboundLanes.totalMessages})]}),Object(n.jsxs)(Qe.a,{className:e.statsEntry,children:["Awaiting messages:",Object(n.jsx)("span",{children:null===a||void 0===a?void 0:a.outboundLanes.pendingMessages})]})]})},bn=a(923);function gn(e){return Object(n.jsx)(bn.a,Object(N.a)({elevation:6,variant:"filled"},e))}function hn(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}var fn=function(e){var t=Ht().dispatchTransaction,a=hn(e);Object(r.useEffect)((function(){a===e&&t(yt())}),[t,a,e])},On=c.a.createContext({}),jn=[{title:"Transfer",isEnabled:!0,type:ze.TRANSFER},{title:"Remark",isEnabled:!0,type:ze.REMARK},{title:"Custom Call",isEnabled:!0,type:ze.CUSTOM}];function mn(){return Object(r.useContext)(On)}function xn(e){var t=e.children,a=qe("storageDrawer"),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(ze.TRANSFER),u=Object(o.a)(l,2),d=u[0],p=u[1],b={drawer:i,setDrawer:s,actions:jn,action:d,setAction:p};return fn(d),Object(n.jsx)(Ye.a,{theme:Object(Ke.a)($a),children:Object(n.jsx)(On.Provider,{value:b,children:t})})}var vn=a(919),yn=a(920),En=a(202),An=a.n(En),Cn=new yn.a;function Rn(e){var t=Object(r.useState)({}),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)({}),p=Object(o.a)(d,2),b=p[0],g=p[1],h=e.chainNumber,f=e.hasher,O=e.provider,j=e.types,m=e.polkadotjsUrl;return Object(r.useEffect)((function(){vn.a.create({hasher:f||void 0,provider:O,types:j}).then((function(e){W.info("Chain ".concat(h,": connection created.")),c(e)})).catch((function(e){W.error("Chain ".concat(h,": Error creating connection. Details: ").concat(e))}))}),[h,f,O,j]),Object(r.useEffect)((function(){!l&&n&&n.isReady&&n.isReady.then((function(){j&&Cn.register(j),W.info("Chain ".concat(h,": types registration ready")),u(!0)})).catch((function(e){W.error("Chain ".concat(h,": Error registering types. Details: ").concat(e))}))}),[n,n.isReady,h,l,j]),Object(r.useEffect)((function(){var e=function(){var e=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.isReady;case 2:if(!e.sent){e.next=7;break}return e.next=5,ce(n);case 5:t=e.sent,g(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();An()(b)&&e()}),[n,n.isReady,b]),{api:n,isApiReady:l,configs:b,polkadotjsUrl:m}}var Sn=a(927),Tn=a(487),_n=a.n(Tn),Nn=a(67),kn=a(74),In=a(235);var Dn=function(e){var t=e.call,a=e.dispatch;return{execute:Object(r.useCallback)(Object(re.a)(ne.a.mark((function e(){var n,r,c=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(null,null,!0),e.next=4,t.apply(void 0,c);case 4:n=e.sent,a(null,n,!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0,a(e.t0,null,!1);case 12:return e.abrupt("return",{data:n,error:r});case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t,a])}},Pn=function(){var e=Me(),t=e.createType,a=e.stateCall,n="0x00000000",c=M(),i=c.sourceChainDetails.chain,s=c.targetChainDetails.chain,o=Ht().dispatchTransaction,l=ke(s).estimatedFeeMethodName,u=Object(r.useCallback)(function(){var e=Object(re.a)(ne.a.mark((function e(r){var c,s,o,u,d;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return c=t(i,"OutboundPayload",r),s=t(i,"MessageFeeData",{lane_id:n,payload:c.toHex()}),e.next=6,a(i,l,s.toHex());case 6:return o=e.sent,u=t(i,"Option<Balance>",o),d=u.toString(),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,l,n,i,a]),d=Object(r.useCallback)((function(e,t,a){return o(Ot(e,t,a))}),[o]);return Dn({call:u,dispatch:d}).execute},Mn=function(){var e=Me().createType,t=M(),a=t.sourceChainDetails.chain,n=t.targetChainDetails.apiConnection.api,c=Ht().dispatchTransaction,i=Ft().receiverAddress,s=Ue().account,o=Object(r.useCallback)((function(t){var r=t.call,c=t.weight;if(!s||!r||!c||!i)return null;var o={call:Object(oe.a)(r),origin:{SourceAccount:s.addressRaw},spec_version:n.consts.system.version.specVersion.toNumber(),weight:c},l=e(a,"OutboundPayload",o);return W.info("OutboundPayload: ".concat(JSON.stringify(o))),W.info("OutboundPayload.toHex(): ".concat(l.toHex())),o}),[s,e,i,a,n.consts.system.version.specVersion]),l=Object(r.useCallback)((function(e,t){return c(vt(e,t))}),[c]);return Dn({call:o,dispatch:l}).execute};function wn(e){var t=e.input,a=e.type,n=e.weightInput,c=e.isValidCall,i=void 0===c||c,s=Ft().payload,l=function(e){var t=e.input,a=e.type,n=e.weightInput,c=L().areApiReady,i=M().targetChainDetails.apiConnection.api,s=Ue().account,l=Ft(),u=l.receiverAddress,d=l.transferAmount,p=Object(r.useState)({call:null,weight:null}),b=Object(o.a)(p,2),g=b[0],h=b[1];return Object(r.useEffect)((function(){function e(){return(e=Object(re.a)(ne.a.mark((function e(){var r,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,c=null,!s){e.next=30;break}e.t0=a,e.next=e.t0===ze.REMARK?6:e.t0===ze.TRANSFER?15:e.t0===ze.CUSTOM?25:28;break;case 6:return e.next=8,i.tx.system.remark(t);case 8:return c=e.sent.toU8a(),W.info("system::remark: ".concat(Object(Nn.a)(c))),c=c.slice(2),e.next=13,i.tx.system.remark(t).paymentInfo(s);case 13:return r=e.sent.weight.toNumber(),e.abrupt("break",29);case 15:if(!u){e.next=24;break}return e.next=18,i.tx.balances.transfer(u,d||0);case 18:return c=e.sent.toU8a(),W.info("balances::transfer: ".concat(Object(Nn.a)(c))),c=c.slice(2),e.next=23,i.tx.balances.transfer(u,d||0).paymentInfo(s);case 23:r=e.sent.weight.toNumber();case 24:return e.abrupt("break",29);case 25:return c=Object(kn.a)(t)?Object(In.a)(t):null,r=parseInt(n),e.abrupt("break",29);case 28:throw new Error("Unknown type: ".concat(a));case 29:h({call:c,weight:r});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()}),[s,c,t,u,i.tx.balances,i.tx.system,d,a,n]),g}({input:t,type:a,weightInput:n}),u=l.call,d=l.weight,p=Pn(),b=Mn();Object(r.useEffect)((function(){p(s)}),[p,s]),Object(r.useEffect)((function(){i&&b({call:u,weight:d})}),[u,i,b,d])}var Bn=function(e){var t=e.isValidCall,a=e.input,n=e.type,c=e.weightInput,i=Ft(),s=i.estimatedFee,o=i.receiverAddress,l=i.payload,u=i.transactionRunning,d=Ht().dispatchTransaction,p="0x00000000",b=M(),g=b.sourceChainDetails,h=g.apiConnection.api,f=g.chain,O=b.targetChainDetails.chain,j=Ue().account;wn({input:a,isValidCall:t,type:n,weightInput:c});var m=De().createType,x=Ce().dispatchMessage,v=Object(r.useCallback)(function(){var e=Object(re.a)(ne.a.mark((function e(t){var r,c,i,u,g,v,y,E,A,C,R;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j&&l){e.next=3;break}return e.abrupt("return");case 3:if(r=m(f,"OutboundPayload",l),c=r.toHex(),i=ke(O),u=i.bridgedMessages,g=h.tx[u].sendMessage(p,l,s),W.info("bridge::sendMessage ".concat(g.toHex())),v={nonce:-1},y=j,!j.meta.isInjected){e.next=16;break}return e.next=13,Object(he.c)(j.meta.source);case 13:E=e.sent,v.signer=E.signer,y=j.address;case 16:return A=Zt({payload:l,account:j.address,createType:m,sourceTargetDetails:b}),C=A.transactionDisplayPayload,e.next=19,g.signAndSend(y,Object(N.a)({},v),(function(e){var r=e.events,i=void 0===r?[]:r,s=e.status;s.isReady&&d(mt({block:null,blockHash:null,id:t,input:a,messageNonce:null,receiverAddress:o,sourceAccount:j.address,sourceChain:f,status:Ve.CREATED,targetChain:O,type:n,payloadHex:c,transactionDisplayPayload:C})),s.isBroadcast&&(x(me({message:"Transaction was broadcasted"})),d(yt())),s.isInBlock&&i.forEach((function(e){var a=e.event,n=a.data;if("MessageAccepted"===a.method.toString()){var r=n.toArray()[1].toString();h.rpc.chain.getBlock(s.asInBlock).then((function(e){var a=e.block.header.number.toString();d(xt({block:a,blockHash:s.asInBlock.toString(),messageNonce:r,status:Ve.IN_PROGRESS},t))})).catch((function(e){throw W.error(e.message),new Error("Issue reading block information.")}))}})),s.isFinalized&&(W.info("Transaction finalized at blockHash ".concat(s.asFinalized)),R())}));case 19:R=e.sent,e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),x(je({message:e.t0.message})),W.error(e.t0.message);case 26:return e.prev=26,d(jt(!1)),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[0,22,26,29]])})));return function(t){return e.apply(this,arguments)}}(),[j,m,x,d,s,a,p,l,o,h.rpc.chain,h.tx,f,b,O,n]),y=Object(r.useCallback)((function(){var e=_n()().format("x");return d(jt(!0)),v(e)}),[d,v]),E=L().areApiReady;return{sendLaneMessage:y,isButtonDisabled:Object(r.useCallback)((function(){switch(n){case ze.REMARK:return u||!j||!E;case ze.CUSTOM:return u||!j||!a||!c||!t||!E;default:throw new Error("Unknown type: ".concat(n))}}),[j,E,a,t,u,n,c])}},Fn=Object(Xe.a)((function(){return{container:{minHeight:"20px"}}})),Hn=function(){var e=Fn(),t=M(),a=t.sourceChainDetails,c=t.targetChainDetails,i=Ft(),s=i.estimatedFee,l=i.estimatedFeeLoading,u=a.apiConnection.api.registry.chainDecimals[0],d=c.apiConnection.api.registry.chainTokens,p=Object(r.useState)(null),b=Object(o.a)(p,2),g=b[0],h=b[1];Object(r.useEffect)((function(){!l&&h(s?function(e,t){var a=e.length-t,n="";if(a<0){for(var r=0;r<Math.abs(a)-1;r++)n+="0";n+=e;for(var c=0;c<n.length&&"0"===n.slice(n.length-1);c++)n=n.substring(0,n.length-1);n="0."+n}else n=(parseInt(e)/Math.pow(10,t)).toString();return 0!==parseFloat(n)?n:"0"}(s,u):null)}),[s,l,u]);var f="Estimated ".concat(a.chain," fee");return Object(n.jsx)("div",{className:e.container,children:Object(n.jsx)(aa.a,{variant:"body1",color:"secondary",children:l?"".concat(f,"..."):g?"".concat(f,": ").concat(g," ").concat(d):null})})},Un=a(488),Ln=a.n(Un),Vn=function(e){var t=e.initialValue,a=e.wait,n=void 0===a?500:a,c=e.transformCallback,i=e.dispatchCallback,s=Object(r.useState)(t),l=Object(o.a)(s,2),u=l[0],d=l[1],p=Object(r.useState)(t),b=Object(o.a)(p,2),g=b[0],h=b[1],f=hn(g),O=Object(r.useMemo)((function(){return Ln()((function(e){return h(e)}),n)}),[n]),j=Object(r.useCallback)((function(e){if(d(e),c){var t=c(e);O(t)}else O(e)}),[O,c]);return Object(r.useEffect)((function(){f!==g&&i&&i(g)}),[g,i,f]),[u,j,g]},Gn=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Vn({initialValue:"0x"}),s=Object(o.a)(i,3),l=s[0],u=s[1],d=s[2],p=Vn({initialValue:""}),b=Object(o.a)(p,3),g=b[0],h=b[1],f=b[2],O=Object(r.useState)(),j=Object(o.a)(O,2),m=j[0],x=j[1],v=M(),y=v.sourceChainDetails,E=v.targetChainDetails,A=M().targetChainDetails.chain,C=De().createType,R=Bn({input:d,isValidCall:Boolean(a),type:ze.CUSTOM,weightInput:f}),S=R.isButtonDisabled,T=R.sendLaneMessage,_=Object(r.useCallback)((function(e){var t=e.target.value;try{x(null),u(t);var a=C(A,"Call",t);c(JSON.stringify(a,null,4))}catch(n){W.error("Wrong call",n),x("Wrong call provided"),c(null)}}),[C,u,A]),N=Object(r.useCallback)((function(e){h(e.target.value)}),[h]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Qe.a,{mb:2,children:Object(n.jsx)(Sn.a,{onChange:_,value:l,placeholder:"0x",label:"Call",variant:"outlined",fullWidth:!0,helperText:m&&"".concat(m)})}),Object(n.jsx)(Sn.a,{onChange:N,value:g,label:"Weight",variant:"outlined",fullWidth:!0}),Object(n.jsxs)(it,{disabled:S(),onClick:T,children:["Send custom call from ",y.chain," to ",E.chain]}),Object(n.jsx)(Hn,{})]})},zn=function(e,t){return"".concat(e," chain status: ").concat(t?"connected":"disconnected")},Wn=function(e){var t=e.component,a=Te(),r=a.extensionExists,c=a.accountExists,i=L(),s=i.sourceReady,o=i.targetReady,l="";return r?c?s&&o||(l="".concat(s?"":zn("Source",s)," ").concat(o?"":zn("Target",o))):l="There are no accounts in the extension. Please create one":l="Connect to a wallet. Install polkadotjs extension",Object(n.jsx)(n.Fragment,{children:l?Object(n.jsx)(gn,{severity:"error",children:l}):t})},Yn=function(){var e=Vn({initialValue:"0x"}),t=Object(o.a)(e,3),a=t[0],r=t[1],c=t[2],i=M(),s=i.sourceChainDetails,l=i.targetChainDetails,u=Bn({input:c,type:ze.REMARK}),d=u.isButtonDisabled,p=u.sendLaneMessage;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Sn.a,{label:"Remark",value:a,variant:"outlined",fullWidth:!0,multiline:!0,rows:4,onChange:function(e){r(e.target.value)}}),Object(n.jsxs)(it,{disabled:d(),onClick:p,children:["Send bridge remark from ",s.chain," to ",l.chain]}),Object(n.jsx)(Hn,{})]})},Kn=a(930),qn=a(922),Jn=function(){var e=Object(r.useContext)(He).dispatchAccount,t=Object(r.useContext)(w).dispatchChangeSourceTarget,a=M(),n=Ue().accounts,c=Ie().getSS58PrefixByChain,i=Object(r.useCallback)((function(r,i){var s=c(i),o=n.find((function(e){var t=e.address;return Object(ue.a)(t,s)===r}));o&&(t(I(i)),e(Q(o,a)))}),[n,e,t,c,a]);return{accounts:n,setCurrentAccount:i}};var $n=function(e,t,a){var n=M(),r=n.sourceChainDetails,c=r.apiConnection.api,i=r.configs,s=n.targetChainDetails,o=s.apiConnection.api,l=s.chain,u=s.configs;if(!t||!e||t===O||t===j)return{address:"",api:{}};var d=t===l?u.ss58Format:i.ss58Format,p=t===l?ie(u,i.chainName):ie(i,u.chainName);return{address:a?pe({ss58Format:d,address:e,bridgeId:p}):e,api:t===l?o:c}},Zn=Object(Xe.a)((function(e){return{balances:Object(N.a)({whiteSpace:"nowrap"},e.typography.subtitle2)}})),Qn=function(e){var t=e.balance,a=e.onClick,r=e.id,c=Zn();return Object(n.jsx)("div",{onClick:a,className:c.balances,id:r,children:t||""})},Xn=a(500),er=a(489),tr=a.n(er),ar=Object(Xe.a)((function(){return{placeholder:{filter:"grayscale(1)"}}})),nr="1nUC7afqmo7zwRFWxDjrUQu9skk6fk99pafb4SiyGSRc8z3";function rr(e){var t=e.address,a=e.formatFound,c=e.size,i=void 0===c?24:c,s=e.theme,o=void 0===s?"polkadot":s,l=Object($e.a)(e,["address","formatFound","size","theme"]),u=Ce().dispatchMessage,d=!t||a===O,p=d?nr:t,b=ar(),g=Object(r.useCallback)((function(){p!==nr&&u(xe({message:"Address copied"}))}),[u,p]);return Object(n.jsx)(Xn.a,Object(N.a)(Object(N.a)({className:tr()(d&&b.placeholder),value:p,size:i,theme:o},l),{},{onCopy:g}))}var cr,ir=a(929),sr=a(496),or=a.n(sr),lr=Object(Xe.a)((function(e){return{address:{display:"flex",alignItems:"center",marginLeft:e.spacing(),marginRight:e.spacing(),width:"100%",overflow:"auto"},missingAddress:{color:e.palette.text.disabled},tooltipIcon:Object(N.a)(Object(N.a)({},e.typography.body1),{},{marginTop:2,marginLeft:2,"&:not(:hover)":{color:Object(wa.c)(e.palette.text.hint,.75)}})}})),ur=function(e){var t=e.address,a=void 0===t?"":t,r=e.addressKind,c=e.balance,i=e.friendlyName,s=e.hideAddress,o=void 0!==s&&s,l=e.onClick,u=e.className,d=e.withTooltip,p=e.id,b=lr();return Object(n.jsxs)(Qe.a,{onClick:l,display:"flex",alignItems:"center",className:u,children:[Object(n.jsx)(rr,{address:a}),Object(n.jsxs)("div",{className:"".concat(b.address," ").concat(!a&&b.missingAddress),id:p,children:[function(){var e=Vt(a),t=i?"".concat(i," [").concat(e,"]"):e,n=o?i||e:t;return r?"".concat(r,"(").concat(n,")"):n}(),d&&Object(n.jsx)(ir.a,{title:a,arrow:!0,placement:"top",interactive:!0,children:Object(n.jsx)(or.a,{className:b.tooltipIcon})})]}),Object(n.jsx)(Qn,{balance:c})]})};!function(e){e.NATIVE="native",e.COMPANION="companion"}(cr||(cr={}));var dr=function(e){var t=e.value,a=e.chain,r=e.hideAddress,c=void 0!==r&&r,i=e.isDerived,s=void 0!==i&&i,o=e.id,l=Object($e.a)(e,["value","chain","hideAddress","isDerived","id"]),u=$n(t,a,s),d=u.api,p=u.address,b=Z(d,p,!0);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ur,Object(N.a)({address:p,balance:"".concat(b.formattedBalance," ").concat("0"===b.formattedBalance?b.chainTokens:""),addressKind:s?cr.COMPANION:void 0,hideAddress:c,id:o||void 0},l))})},pr=a(497),br=a.n(pr),gr=Object(Xe.a)((function(e){return{networkHeading:Object(N.a)(Object(N.a)({padding:e.spacing(2),paddingBottom:0,borderTop:"1px solid ".concat(e.palette.divider)},e.typography.overline),{},{color:e.palette.text.hint,"&:first-child":{paddingTop:0,border:"none"}}),selectAccountMainItem:{display:"block",paddingTop:e.spacing(),paddingBottom:e.spacing(),paddingLeft:e.spacing(1.75)},accountMain:{"& .MuiSelect-select":{padding:e.spacing(1.25),paddingTop:e.spacing(.5),paddingRight:e.spacing(3),border:"1px solid ".concat(e.palette.divider),borderRadius:e.spacing(1.5),borderBottomLeftRadius:0,borderBottomRightRadius:0}},accountCompanion:Object(N.a)({},Ia(e))}})),hr=function(){var e=gr(),t=Object(r.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Jn().setCurrentAccount,l=Ue(),u=l.account,d=l.accounts,p=l.companionAccount,b=l.senderAccountBalance,g=l.senderCompanionAccountBalance,h=M(),f=h.sourceChainDetails,O=f.chain,j=f.configs.ss58Format,m=h.targetChainDetails.chain,x=Ie().getSS58PrefixByChain,v=L().areApiReady;Object(r.useEffect)((function(){c.length||i([[O,m],[m,O]])}),[c.length,O,m]);var y=u?Object(ue.a)(u.address,j):"init",E=function(t){var a=Object(o.a)(t,2),r=a[0],c=a[1],i=x(r),l=function(e,t){return e.map((function(e){var a=e.meta,n=e.address,r=Object(ue.a)(n,t);return{icon:"user",key:r,text:a.name.toLocaleUpperCase(),value:r}}))}(d,i).map((function(t){var a=t.text,i=t.value,o=t.key;return Object(n.jsxs)(Kn.a,{className:e.selectAccountMainItem,value:i,onClick:function(){!function(e,t){s(e,t)}(i,r)},children:[Object(n.jsx)(dr,{friendlyName:a,value:i,chain:r}),Object(n.jsx)(dr,{friendlyName:a,value:i,chain:c,isDerived:!0,hideAddress:!0})]},o)}));return[Object(n.jsx)("div",{className:e.networkHeading,children:r},r),l]},A=function(e){return e.meta.name.toLocaleUpperCase()},C=function(){if(u){var e=A(u);return Object(n.jsx)(ur,{friendlyName:e,address:u.address,balance:null===b||void 0===b?void 0:b.formattedBalance})}return Object(n.jsx)(ur,{friendlyName:"Select sender account",hideAddress:!0})};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qn.a,{id:"test-sender-component",disableUnderline:!0,fullWidth:!0,disabled:!v,className:e.accountMain,value:y,renderValue:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Da,{children:"Sender"}),Object(n.jsx)(C,{})]})},children:c.map((function(e){return E(e)}))}),Object(n.jsx)("div",{className:e.accountCompanion,children:p&&!br()(g)?Object(n.jsx)(ur,{friendlyName:A(u),address:p,addressKind:cr.COMPANION,balance:g.formattedBalance,hideAddress:!0,withTooltip:!0}):Object(n.jsx)(ur,{friendlyName:"Sender",addressKind:cr.COMPANION,hideAddress:!0})})]})},fr=a(498);function Or(){var e=Object(fr.a)(["\n  display: inline-block;\n  color: white;\n  font-size: 1em;\n  background: transparent;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: none;\n  display: block;\n  outline: none;\n  font-weight: 600;\n"]);return Or=function(){return e},e}var jr=a(499).a.button(Or());function mr(){var e=Object(d.b)(),t=e.enqueueSnackbar,a=e.closeSnackbar,c=Object(r.useContext)(Ee),i=c.message,s=c.variant,o=Ce().dispatchMessage;return Object(r.useEffect)((function(){i&&s&&(t(i,{action:Object(n.jsx)(jr,{onClick:function(){return a()},children:"CLOSE"}),anchorOrigin:{horizontal:"right",vertical:"top"},variant:s}),o(Oe()))}),[a,i,s,t,o]),null}var xr=a(917),vr=function(e){var t=e.position,a=void 0===t?"start":t,r=M().targetChainDetails;return Object(n.jsx)(xr.a,{position:a,children:r.apiConnection.api.registry.chainTokens})},yr=a(513);var Er=Object(Xe.a)((function(e){return{accountMain:{padding:e.spacing(1.25),paddingTop:e.spacing(.5),paddingRight:e.spacing(3),border:"1px solid ".concat(e.palette.divider),borderRadius:e.spacing(1.5),borderBottomLeftRadius:0,borderBottomRightRadius:0,"& input":{color:e.palette.text.secondary}},address:{marginLeft:e.spacing(),marginRight:e.spacing(),width:"100%",overflow:"auto"}}}));var Ar=function(){var e=Er(),t=function(){var e=Ht().dispatchTransaction,t=Ft().unformattedReceiverAddress,a=M(),n=a.targetChainDetails,c=a.sourceChainDetails,i=n.chain,s=hn(i),o=Object(r.useCallback)((function(t){var a=t.target.value;e(ht({unformattedReceiverAddress:a,sourceChainDetails:c,targetChainDetails:n}))}),[e,c,n]);return Object(r.useEffect)((function(){s!==i&&e(yt())}),[t,s,i,e]),{onReceiverChange:o}}().onReceiverChange,a=Ft(),c=a.unformattedReceiverAddress,i=a.formatFound,s=a.showBalance,o=$n(c,i,!1),l=o.api,u=o.address,d=Z(l,u,!0),p=c||"";return Object(n.jsxs)("div",{className:e.accountMain,children:[Object(n.jsx)(Da,{children:"Receiver"}),Object(n.jsxs)(Qe.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(rr,{address:p,formatFound:i}),Object(n.jsx)(yr.a,{id:"test-receiver-input",className:e.address,fullWidth:!0,onChange:t,autoComplete:"off",value:p,placeholder:"Recipient address"}),s&&d&&Object(n.jsx)(Qn,{balance:d.formattedBalance,id:"test-receiver-balance"})]})]})},Cr=Object(Xe.a)((function(e){return{accountCompanion:Object(N.a)(Object(N.a)({},Ia(e)),{},{borderRadius:0,"&:last-child":{borderTopLeftRadius:0,borderTopRightRadius:0,borderRadius:e.spacing(1.5)}}),selectAccountCompanionItem:{"&:hover":{cursor:"pointer",backgroundColor:e.palette.secondary.light}}}})),Rr=function(e){var t=e.value,a=Cr(),c=function(e){var t=Object(r.useState)(""),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Ht().dispatchTransaction,s=M(),l=s.sourceChainDetails.configs,u=s.targetChainDetails,d=u.configs,p=u.apiConnection.api,b=Object(ue.a)(e,d.ss58Format),g=Z(p,b,!0),h=pe({ss58Format:d.ss58Format,address:e,bridgeId:ie(d,l.chainName)}),f=Z(p,h,!0),O=Object(r.useCallback)((function(){c(""),i(gt(null))}),[i]),j=Object(r.useCallback)((function(e,t){n?O():(c(t),i(gt(e)))}),[i,O,n]),m=Object(r.useCallback)((function(){return j(b,cr.NATIVE)}),[b,j]),x=Object(r.useCallback)((function(){return j(h,cr.COMPANION)}),[h,j]),v=Vt(e);return{selected:n,shortGenericAddress:v,setNativeAsTarget:m,setCompanionAsTarget:x,nativeAddress:b,nativeState:g,companionAddress:h,companionState:f}}(t),i=c.selected,s=c.shortGenericAddress,l=c.companionAddress,u=c.setNativeAsTarget,d=c.setCompanionAsTarget,p=c.nativeAddress,b=c.nativeState,g=c.companionState;return Object(n.jsxs)(Ma.a,{elevation:i?0:23,children:[(!i||i===cr.NATIVE)&&Object(n.jsx)(ur,{className:"".concat(a.accountCompanion," ").concat(a.selectAccountCompanionItem),onClick:u,address:p,addressKind:cr.NATIVE,balance:b.formattedBalance,friendlyName:s,id:"test-".concat(cr.NATIVE,"-input").toLowerCase(),hideAddress:!0,withTooltip:!0}),(!i||i===cr.COMPANION)&&Object(n.jsx)(ur,{className:"".concat(a.accountCompanion," ").concat(a.selectAccountCompanionItem),onClick:d,address:l,addressKind:cr.COMPANION,balance:g.formattedBalance,friendlyName:s,id:"test-".concat(cr.COMPANION,"-input").toLowerCase(),hideAddress:!0,withTooltip:!0})]})},Sr=Object(Xe.a)((function(e){return{accountCompanion:Object(N.a)({},Ia(e))}})),Tr=function(){var e=Sr(),t=Ft(),a=t.genericReceiverAccount,r=t.derivedReceiverAccount,c=t.receiverAddress,i=t.unformattedReceiverAddress,s=M().targetChainDetails.chain;if(a)return Object(n.jsx)(Rr,{value:a});if(r){var o=Vt(i||"");return Object(n.jsx)("div",{className:e.accountCompanion,children:Object(n.jsx)(dr,{friendlyName:o,value:c,chain:s,id:"test-".concat(cr.COMPANION,"-input").toLowerCase(),isDerived:!0,hideAddress:!0,withTooltip:!0})})}return c?Object(n.jsx)("div",{className:e.accountCompanion,children:Object(n.jsx)(ur,{address:c,addressKind:cr.NATIVE,id:"test-".concat(cr.NATIVE,"-input").toLowerCase(),withTooltip:!0})}):Object(n.jsx)("div",{className:e.accountCompanion,children:Object(n.jsx)(ur,{})})},_r=function(){var e=Ft().addressValidationError;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ar,{}),Object(n.jsx)(Tr,{}),Object(n.jsx)(aa.a,{variant:"body2",color:"error",children:e})]})},Nr=Object(Xe.a)((function(e){return{inputAmount:{"& .MuiInputBase-root":{"& .MuiInputAdornment-root":Object(N.a)({position:"absolute",right:e.spacing(2)},e.typography.subtitle2),"& input":Object(N.a)(Object(N.a)({textAlign:"center"},e.typography.subtitle2),{},{fontSize:e.typography.h1.fontSize,color:e.palette.primary.main})},minHeight:"95px"}}}));var kr,Ir=function(){var e,t=Ht().dispatchTransaction,a=Nr(),c=Object(r.useState)(!1),i=Object(o.a)(c,2),s=i[0],l=i[1],u=M(),d=u.sourceChainDetails,p=u.targetChainDetails,b=Ue().account,g=Ft(),h=g.estimatedFee,f=g.transferAmount,O=g.transferAmountError,j=g.transactionRunning,m=g.transactionReadyToExecute,x=d.apiConnection.api,v=Z(x,(null===b||void 0===b?void 0:b.address)||""),y=Object(r.useCallback)((function(e){t(ft(null!==e?null===e||void 0===e?void 0:e.toString():"",x.registry.chainDecimals[0]))}),[x.registry.chainDecimals,t]),E=Vn({initialValue:"0",dispatchCallback:y}),A=Object(o.a)(E,2),C=A[0],R=A[1],S=Bn({input:null!==(e=null===f||void 0===f?void 0:f.toString())&&void 0!==e?e:"",type:ze.TRANSFER}).sendLaneMessage;return Object(r.useEffect)((function(){j&&R("")}),[R,j]),Object(r.useEffect)((function(){h&&f&&l(new U.a(v.free).sub(f).add(new U.a(h)).isNeg())}),[f,h,v]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Qe.a,{mb:2,children:Object(n.jsx)(Sn.a,{id:"test-amount-send",onChange:function(e){R(e.target.value)},value:C,placeholder:"0",className:a.inputAmount,fullWidth:!0,variant:"outlined",autoComplete:"off",helperText:O||"",InputProps:{endAdornment:Object(n.jsx)(vr,{position:"start"})}})}),Object(n.jsx)(_r,{}),Object(n.jsxs)(it,{disabled:!m||s,onClick:S,children:["Send bridge transfer from ",d.chain," to ",p.chain]}),s?Object(n.jsxs)(gn,{severity:"error",children:["Account's amount (including fees: ",h,") is not enough for this transaction."]}):Object(n.jsx)(Hn,{})]})},Dr=(kr={},Object(Ne.a)(kr,ze.TRANSFER,Object(n.jsx)(Ir,{})),Object(Ne.a)(kr,ze.REMARK,Object(n.jsx)(Yn,{})),Object(Ne.a)(kr,ze.CUSTOM,Object(n.jsx)(Gn,{})),kr);var Pr=function(){var e,t,a=mn(),r=a.actions,c=a.action,i=a.setAction;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Xa,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(aa.a,{variant:"button",children:"Bridges UI"}),Object(n.jsx)(dn,{}),Object(n.jsx)(pn,{}),Object(n.jsx)(Na,{})]}),Object(n.jsx)(nt,{children:" Help & Feedback "})]}),Object(n.jsxs)(Qa,{children:[Object(n.jsx)(cn,{actions:r,action:c,changeMenu:i}),Object(n.jsx)(Wn,{component:Object(n.jsx)(hr,{})}),Object(n.jsx)(Qe.a,{marginY:2,textAlign:"center",width:"100%",children:Object(n.jsx)(ln.a,{fontSize:"large",color:"primary"})}),Object(n.jsx)(n.Fragment,{children:Dr[c]}),Object(n.jsx)(Ta,{type:null===(t=c,e=r.find((function(e){return e.type===t})))||void 0===e?void 0:e.title}),Object(n.jsx)(mr,{})]})]})},Mr=function(){var e=_("1",y),t=_("2",E);return[{chainNumber:"1",hasher:e.hasher,polkadotjsUrl:e.polkadotjsUrl,types:e.types,provider:e.provider},{chainNumber:"2",hasher:t.hasher,polkadotjsUrl:t.polkadotjsUrl,types:t.types,provider:t.provider}]}(),wr=Object(o.a)(Mr,2),Br=wr[0],Fr=wr[1];var Hr=function(){var e=function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1],c=Rn(a),i=c.configs,s=c.polkadotjsUrl,l=Object($e.a)(c,["configs","polkadotjsUrl"]),u=Rn(n),d=u.configs,p=u.polkadotjsUrl,b=Object($e.a)(u,["configs","polkadotjsUrl"]),g=Object(r.useState)({}),h=Object(o.a)(g,2),f=h[0],O=h[1],j=Object(r.useState)(!1),m=Object(o.a)(j,2),x=m[0],v=m[1];return Object(r.useEffect)((function(){if(i&&d){var e=i.chainName,t=d.chainName,a=(null===l||void 0===l?void 0:l.isApiReady)&&(null===b||void 0===b?void 0:b.isApiReady);if(e&&t&&An()(f)){var n,r=(n={},Object(Ne.a)(n,k.SOURCE,{configs:i,apiConnection:l,chain:e,polkadotjsUrl:s,subscriptions:{}}),Object(Ne.a)(n,k.TARGET,{configs:d,apiConnection:b,chain:t,polkadotjsUrl:p,subscriptions:{}}),n);O(r),v(a)}}}),[l,b,i,d,f,s,p]),{connections:f,apiReady:x}}([Br,Fr]).connections;return An()(e)?Object(n.jsx)(l.a,{open:!0,children:Object(n.jsx)(u.a,{color:"inherit"})}):Object(n.jsx)(B,{connections:e,children:Object(n.jsx)(_e,{children:Object(n.jsx)(we,{children:Object(n.jsx)(Le,{children:Object(n.jsx)($t,{children:Object(n.jsx)(Re,{children:Object(n.jsx)(d.a,{children:Object(n.jsx)(Ut,{children:Object(n.jsx)(p.a,{children:Object(n.jsx)(b.c,{children:Object(n.jsx)(b.a,{path:"/",children:Object(n.jsx)(xn,{children:Object(n.jsx)(Pr,{})})})})})})})})})})})})})};!function(){var e,t=Object(h.a)(f);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(!Object({NODE_ENV:"production",PUBLIC_URL:"https://paritytech.github.io/parity-bridges-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_1_CUSTOM_TYPES_URL:"https://raw.githubusercontent.com/paritytech/parity-bridges-common/master/deployments/types-rialto.json",REACT_APP_CHAIN_1_SUBSTRATE_PROVIDER:"wss://wss.rialto.brucke.link",REACT_APP_CHAIN_2_CUSTOM_HASHER:"blake2Keccak256Hasher",REACT_APP_CHAIN_2_CUSTOM_TYPES_URL:"https://raw.githubusercontent.com/paritytech/parity-bridges-common/master/deployments/types-millau.json",REACT_APP_CHAIN_2_SUBSTRATE_PROVIDER:"wss://wss.millau.brucke.link",REACT_APP_LANE_ID:"0x00000000",REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS:"true",REACT_APP_IS_DEVELOPMENT:"false"})[a])throw new Error("Missing ".concat(a," variable"))}}catch(n){t.e(n)}finally{t.f()}}(),s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Hr,{})}),document.getElementById("root"))}},[[840,1,2]]]);
//# sourceMappingURL=main.5a5b650c.chunk.js.map